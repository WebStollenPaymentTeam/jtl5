{"version":3,"sources":["reportWebVitals.ts","assets/img/creditcard.svg","assets/img/applepay.svg","assets/img/bancontact.svg","assets/img/belfius.svg","assets/img/billie.svg","assets/img/directdebit.svg","assets/img/banktransfer.svg","assets/img/eps.svg","assets/img/giftcard.svg","assets/img/giropay.svg","assets/img/ideal.svg","assets/img/in3.svg","assets/img/inghomepay.svg","assets/img/kbc.svg","assets/img/klarna.svg","assets/img/mybank.svg","assets/img/paypal.svg","assets/img/paysafecard.svg","assets/img/Przelewy24.svg","assets/img/sofort.svg","assets/img/Voucher.svg","assets/img/blik.svg","assets/img/twint.svg","assets/img/klarnaone.svg","assets/img/trustly.svg","assets/img/riverty.svg","helper.tsx","context/MollieContext.ts","tabs/Orders/OrderDetails/Details.tsx","hooks/useMollie.ts","hooks/useOrder.ts","hooks/useErrorSnack.ts","tabs/Orders/OrderDetails/OrderLines.tsx","tabs/Orders/OrderDetails/Payments.tsx","hooks/useShipments.ts","tabs/Orders/OrderDetails/Shipments.tsx","tabs/Orders/OrderDetails/Refunds.tsx","hooks/useQueue.ts","tabs/Orders/OrderDetails/Queue.tsx","hooks/usePaymentLogs.ts","tabs/Orders/OrderDetails/Logs.tsx","tabs/Orders/OrderDetails/index.tsx","hooks/useOrders.ts","hooks/useSuccessSnack.ts","tabs/Orders/index.tsx","hooks/useQueues.ts","tabs/Queue/index.tsx","tabs/Dashboard/CustomDashboardGridCards/QuickStats/index.tsx","context/PaymentMethodContext.tsx","tabs/Dashboard/CustomDashboardGridCards/ActivePaymentMethods/index.tsx","assets/img/abocloud.png","tabs/Dashboard/CustomDashboardGridCards/AboCloudWidget/index.tsx","tabs/Dashboard/CustomDashboardGridCards/index.tsx","tabs/PaymentMethods/components/PaymentMethodGridItem/ConfigurationItems.tsx","tabs/PaymentMethods/components/PaymentMethodGridItem/AdditionalInformation.tsx","tabs/PaymentMethods/components/PaymentMethodGridItem/index.tsx","tabs/PaymentMethods/components/PaymentMethodGrid.tsx","tabs/PaymentMethods/index.tsx","tabs.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","mollieOrderLineTypeLabel","type","_jsx","Label","className","color","children","molliePaymentStatusLabel","status","jtlStatus2label","parseInt","jtlStatus2text","PaymentMethod2img","mollieMethodId","style","pInfo","usePluginInfo","endpoint","prefix","substring","lastIndexOf","images","applepay","applypayImg","bancontact","bancontactImg","banktransfer","banktransferImg","belfius","belfiusImg","billie","billieImg","creditcard","creditcardImg","directdebit","directdebitImg","eps","epsImg","giftcard","giftcardImg","giropay","giropayImg","ideal","idealImg","in3","in3Img","inghomepay","inghomepayImg","kbc","kbcImg","klarna","klarnaImg","mybank","mybankImg","paypal","paypalImg","paysafecard","paysafecardImg","Przelewy24","przelewy24Img","przelewy24","sofort","sofortImg","voucher","voucherImg","twint","twintImg","blik","blikImg","klarnaOne","klarnaOneImg","trustly","trustlyImg","riverty","rivertyImg","src","title","alt","display","MollieContext","React","createContext","Details","_mollie$data","_mollie$data$_links$d","_mollie$data2","_mollie$data3","_mollie$data4","_mollie$data5","_mollie$data6","_mollie$data7","_mollie$data8","_mollie$data9","_mollie$data10","_mollie$data11","_mollie$data12","_mollie$data13","_mollie$data14","_mollie$data15","_mollie$data16","_mollie$data17","_mollie$data18","_mollie$data19","_mollie$data20","_mollie$data20$_links","_mollie$data21","_mollie$data21$_links","_mollie$data22","mollie","useContext","Loading","loading","_jsxs","TextLink","target","href","data","_links","dashboard","id","mode","formatAmount","amount","value","currency","amountCaptured","amountRefunded","method","locale","moment","createdAt","format","billingAddress","_Fragment","givenName","familyName","colSpan","checkout","PluginAPI","useApi","useMollie","autoload","arguments","length","undefined","state","setState","useState","error","load","useCallback","api","p","run","res","catch","e","finally","refundAmount","async","Error","cancelOrderLine","lineId","quantity","_r$data","_r$data$error","_r$data2","_r$data2$error","r","message","alert","cancelOrder","_r$data3","_r$data3$error","_r$data4","_r$data4$error","refundOrder","_r$data5","_r$data5$error","_r$data6","_r$data6$error","refundOrderLine","cancelRefund","refundId","trim","useEffect","useOrder","useErrorSnack","useSnackbar","position","backgroundColor","fontSize","textAlign","padding","header","column","OrderLines","showError","isCancelable","Button","onClick","handleCancelOrder","window","confirm","includes","handleRefundOrder","DataTable","striped","fullWidth","lines","map","row","_row$id","_row$sku","_row$name","_row$metadata","_row$metadata$propert","_row$metadata2","sku","name","metadata","properties","prop","JSON","stringify","quantityCanceled","quantityRefunded","parseFloat","vatRate","vatAmount","totalAmount","cancelableQuantity","_row$cancelableQuanti","handleCancelOrderLine","max","_window$prompt$replac","_window$prompt","prompt","replace","refundableQuantity","_row$refundableQuanti","handleRefundOrderLine","_window$prompt$replac2","_window$prompt2","Payments","_mollie$data$_embedde","showPayments","setShowPayments","payments","_embedded","prev","FontAwesomeIcon","icon","faChevronDoubleDown","faChevronDoubleLeft","_row$settlementAmount","_row$amountRefunded","_row$amountRemaining","settlementAmount","amountRemaining","details","Date","toLocaleDateString","toLocaleTimeString","changePaymentState","faEdit","useShipments","kBestellung","sync","mollieId","kLieferschein","orderId","console","debug","Shipments","_mollie$data2$_embedd","_mollie$data2$_embedd2","showShipments","setShowShipments","shipments","loadin","_mollie$data3$_links$","_row$shipment","_row$shipment2","_row$shipment3","_row$shipment4","_row$shipment5","_row$shipment6","shipment","cLieferscheinNr","cShipmentId","cCarrier","cCode","cUrl","resp","syncShipping","faSync","faShippingFast","Refunds","_data$_embedded$refun","_data$_embedded","_data$_embedded$refun2","_data$id","_data$amountRemaining","_data$_embedded2","_data$_embedded2$refu","_data$_embedded3","_data$_embedded3$refu","_data$_embedded4","showRefunds","setShowRefunds","amountToRefund","setAmountToRefund","handleRefundAmount","toFixed","refunds","step","min","onChange","light","disabled","description","handleCancel","useQueue","Queue","showLogs","setShowLogs","stopPropagation","fixedWidth","Alert","variant","_row$cResult","_row$cError","kId","cType","cResult","cError","dDone","dCreated","usePaymentLogs","Logs","_data$length","nLevel","cLog","dDatum","kZahlunglog","OrderDetails","props","orderLoading","orderLoad","orderError","orderData","reload","cBestellNr","spin","size","onClose","faTimes","faExclamation","Provider","resource","useOrders","page","perPage","query","params","sqlQuery","useSuccessSnack","Orders","_ordersData$maxItems","showSuccess","setLoading","pluginInfo","openOrderId","setOpenOrderId","modalProps","Modal","useModal","ordersLoading","loadOrders","ordersError","ordersData","ordersState","setOrderState","handleSearch","OrderTable","onSearch","pagination","total","maxItems","items","cOrderId","setIsOpen","bSynced","bTest","fAmountRefunded","fAmount","cStatus","cJTLStatus","cMethod","width","cCurrency","makeFetchable","faUnlock","sendReminder","dReminder","faEnvelopeOpenDollar","inverse","transform","reWebhook","fetch","shopURL","faBolt","showCloseButton","requestClose","useQueues","_data$maxItems","_data$items","queueLoading","queuesState","setQueuesState","table","bLock","faLock","faTrash","QuickStats","isLoading","setIsLoading","statistics","setStatistics","loadStatistics","DashboardGridCard","right","top","zIndex","flexDirection","justifyContent","gap","height","day","week","month","year","transactions","PaymentMethodContext","paymentMethods","reFetchPaymentMethods","PaymentMethodProvider","setPaymentMethods","fetchPaymentMethods","usePaymentMethods","context","ActivePaymentMethods","activeMethods","inactiveAndInvalidMethods","Object","values","forEach","paymentMethod","_paymentMethod$paymen","linkedShippingMethods","nActive","duringCheckout","allowDuringCheckout","push","marginBottom","faCheckCircle","mergedPaymentMethodObject","_mergedPaymentMethodO","_mergedPaymentMethodO2","_mergedPaymentMethodO3","cName","background","boxShadow","faCircleInfo","faXmarkCircle","_mergedPaymentMethodO4","_mergedPaymentMethodO5","_mergedPaymentMethodO6","MollieDashboardLink","rel","borderRadius","maxHeight","minWidth","abocloudImg","CustomDashboardGridCards","AboCloudWidget","ConfigurationItems","shippingPageUrl","shopVersionEqualOrGreaterThan520","adminURL","paymentSettingsPageUrl","kZahlungsart","token","faGear","faLink","nWaehrendBestellung","AdditionalInformation","_mergedPaymentMethodO7","_mergedPaymentMethodO8","_mergedPaymentMethodO9","_mergedPaymentMethodO10","dueDays","minimumAmount","maximumAmount","StatusIcon","_ref2","PaymentMethodGridItem","isOpen","prevState","faChevronUp","faChevronDown","overflow","transition","marginTop","margin","PaymentMethodGrid","PaymentMethods","createTabs","settingsMap","setupAssistentSlides","content","location","textDecoration","alignItems","flex","TextInput","settingId","isDashboard","component","DashboardPage","AdLink","SetupAssistent","slides","Support","ShopInfo","AdImage","DashbarStatus","PageWrapper","thin","Card","hasUrlParameter","DEBUG_URL_PARAM","ReactDOM","render","StrictMode","SnackbarProvider","App","document","getElementById"],"mappings":"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","file":"static/js/main.698e6e4e.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/creditcard.016cd1bb.svg\";","export default __webpack_public_path__ + \"static/media/applepay.fae6f981.svg\";","export default __webpack_public_path__ + \"static/media/bancontact.921db2e7.svg\";","export default __webpack_public_path__ + \"static/media/belfius.dfbe78b7.svg\";","export default __webpack_public_path__ + \"static/media/billie.c59e8ad0.svg\";","export default __webpack_public_path__ + \"static/media/directdebit.6895c23f.svg\";","export default __webpack_public_path__ + \"static/media/banktransfer.82c771ea.svg\";","export default __webpack_public_path__ + \"static/media/eps.71ff7225.svg\";","export default __webpack_public_path__ + \"static/media/giftcard.5e62d0b7.svg\";","export default __webpack_public_path__ + \"static/media/giropay.724c4b56.svg\";","export default __webpack_public_path__ + \"static/media/ideal.bc642320.svg\";","export default __webpack_public_path__ + \"static/media/in3.ce01c542.svg\";","export default __webpack_public_path__ + \"static/media/inghomepay.384d661a.svg\";","export default __webpack_public_path__ + \"static/media/kbc.de7808bb.svg\";","export default __webpack_public_path__ + \"static/media/klarna.51b040f6.svg\";","export default __webpack_public_path__ + \"static/media/mybank.279fc0c1.svg\";","export default __webpack_public_path__ + \"static/media/paypal.bf79cb69.svg\";","export default __webpack_public_path__ + \"static/media/paysafecard.9c58ede9.svg\";","export default __webpack_public_path__ + \"static/media/Przelewy24.9dff65a7.svg\";","export default __webpack_public_path__ + \"static/media/sofort.0634a619.svg\";","export default __webpack_public_path__ + \"static/media/Voucher.aae7b29c.svg\";","export default __webpack_public_path__ + \"static/media/blik.a38b63b9.svg\";","export default __webpack_public_path__ + \"static/media/twint.616d9384.svg\";","export default __webpack_public_path__ + \"static/media/klarnaone.f56a7b58.svg\";","export default __webpack_public_path__ + \"static/media/trustly.d7ffddd2.svg\";","export default __webpack_public_path__ + \"static/media/riverty.96471bcb.svg\";","import {jtlStatus2text, Label, usePluginInfo} from \"@webstollen/react-jtl-plugin/lib\";\nimport React from \"react\";\nimport creditcardImg from './assets/img/creditcard.svg';\nimport applypayImg from './assets/img/applepay.svg';\nimport bancontactImg from './assets/img/bancontact.svg';\nimport belfiusImg from './assets/img/belfius.svg';\nimport billieImg from './assets/img/billie.svg';\nimport directdebitImg from './assets/img/directdebit.svg';\nimport banktransferImg from './assets/img/banktransfer.svg';\nimport epsImg from './assets/img/eps.svg';\nimport giftcardImg from './assets/img/giftcard.svg';\nimport giropayImg from './assets/img/giropay.svg';\nimport idealImg from './assets/img/ideal.svg';\nimport in3Img from './assets/img/in3.svg';\nimport inghomepayImg from './assets/img/inghomepay.svg';\nimport kbcImg from './assets/img/kbc.svg';\nimport klarnaImg from './assets/img/klarna.svg';\nimport mybankImg from './assets/img/mybank.svg';\nimport paypalImg from './assets/img/paypal.svg';\nimport paysafecardImg from './assets/img/paysafecard.svg';\nimport przelewy24Img from './assets/img/Przelewy24.svg';\nimport sofortImg from './assets/img/sofort.svg';\nimport voucherImg from './assets/img/Voucher.svg'\nimport blikImg from './assets/img/blik.svg'\nimport twintImg from './assets/img/twint.svg'\nimport klarnaOneImg from './assets/img/klarnaone.svg';\nimport trustlyImg from './assets/img/trustly.svg';\nimport rivertyImg from './assets/img/riverty.svg';\n\nimport {MergedPaymentMethodObject} from \"./types/PaymentMethod\";\n\nexport const showMethodInfo = (method: MergedPaymentMethodObject) => {\n\n    const listShipping = (linkedShippingMethods: Record<string, any>[]) => {\n        return linkedShippingMethods.length ? \"Versandarten:\\n\" + linkedShippingMethods.map((shipping: Record<string, any>) => ' - ' + shipping.cName).join('\\n') + \"\\n\\n\" : '';\n    }\n\n    return alert(`${method.mollie.description}\\n\\n`\n        + `${method.duringCheckout ? `!! Zahlung vor Bestellabschluss !!\\n\\n` : ''}`\n        + `Status: ${method.mollie.status}\\n`\n        + (method.api ? `API: ${method.api}\\n` : '')\n        + `${method.components ? `Components: ${method.components}\\n` : ''}`\n        + `${method.dueDays ? `Gültigkeit: ${method.dueDays} Tage\\n` : ''}`\n        + `${method.mollie.minimumAmount ? `Minimum: ${method.mollie.minimumAmount.value} ${method.mollie.minimumAmount.currency}\\n` : ''}`\n        + `${method.mollie.maximumAmount ? `Maximum: ${method.mollie.maximumAmount.value} ${method.mollie.maximumAmount.currency}\\n` : ''}`\n        + `${method.linkedShippingMethods ? listShipping(method.linkedShippingMethods) : ''}`);\n}\n\nexport type MollieOrder = {\n    bSynced: string\n    bTest: string\n    cBestellNr: string\n    cCurrency: string\n    cHash: string\n    cLocale: string\n    cMethod: string\n    cOrderId: string\n    cStatus: string\n    cThirdId: string\n    cTransactionId: string\n    dCreated: string\n    dModified: string\n    dReminder: string | null\n    fAmount: number\n    fAmountRefunded: number\n    kBestellung: number\n    kId: number\n\n    cJTLStatus: string\n    cAbgeholt: string\n    cVersandartName: string\n    cZahlungsartName: string\n    fGesamtsumme: number\n    fGuthaben: number\n\n    // cIP: string\n    // cKommentar: string\n    // cLogistiker: string\n    // dBezahltDatum: string | null\n    // kSprache: number\n    // kVersandart: number\n    // kZahlungsart: number\n    // kWaehrung: number\n    // kWarenkorb: number\n};\n\nexport type OrderLineType =\n    \"physical\"\n    | \"discount\"\n    | \"digital\"\n    | \"shipping_fee\"\n    | \"store_credit\"\n    | \"gift_card\"\n    | \"surcharge\";\n\nexport const mollieOrderLineTypeLabel = (type: OrderLineType) => {\n    switch (type) {\n        case \"physical\":\n        case \"digital\":\n            return <Label className={'inline'} color={\"blue\"}>{type}</Label>\n        case \"discount\":\n        case \"store_credit\":\n        case \"gift_card\":\n            return <Label className={'inline'} color={\"green\"}>{type}</Label>\n        default:\n            return <Label className={'inline'} color={\"orange\"}>{type}</Label>\n    }\n\n}\n\nexport type ColorType = \"green\" | \"black\" | \"gray\" | \"orange\" | \"red\" | \"blue\" | \"white\" | undefined;\n\nexport const molliePaymentStatusLabel = (status: string) => {\n    let color: ColorType = undefined;\n    switch (status) {\n        case 'paid':\n        case 'authorized':\n        case 'completed':\n            color = 'green';\n            break;\n        case 'created':\n        case 'pending':\n            color = 'gray';\n            break;\n        case 'open':\n        case 'shipping':\n        case 'refunded':\n            color = 'blue';\n            break;\n        case 'canceled':\n            color = 'orange';\n            break;\n        case 'expired':\n        case 'failed':\n            color = 'red';\n            break;\n    }\n    return <Label className={'inline'} color={color}>{status}</Label>\n}\n\nexport const jtlStatus2label = (status: string | number) => {\n    const nStatus = typeof status === 'string' ? parseInt(status) : status;\n    let color: ColorType = undefined;\n    switch (nStatus) {\n        case -1:\n            color = 'red';\n            break;\n        case 1:\n        case 2:\n            color = 'orange';\n            break;\n        case 3:\n            color = 'blue'\n            break;\n        case 4:\n        case 5:\n            color = 'green';\n            break;\n\n    }\n    return <Label color={color} className={\"inline\"}>{jtlStatus2text(`${status}`)}</Label>;\n}\n\nexport const PaymentMethod2img = ({mollieMethodId, style}: { mollieMethodId: string, style?:  React.CSSProperties }) => {\n\n    const pInfo = usePluginInfo();\n\n    if (pInfo.endpoint) {\n        const prefix = pInfo.endpoint.substring(0, pInfo.endpoint.lastIndexOf('/')) + '/app/build';\n        const images = {\n            applepay: applypayImg,\n            bancontact: bancontactImg,\n            banktransfer: banktransferImg,\n            belfius: belfiusImg,\n            billie: billieImg,\n            creditcard: creditcardImg,\n            directdebit: directdebitImg,\n            eps: epsImg,\n            giftcard: giftcardImg,\n            giropay: giropayImg,\n            ideal: idealImg,\n            in3: in3Img,\n            inghomepay: inghomepayImg,\n            kbc: kbcImg,\n            klarna: klarnaImg,\n            mybank: mybankImg,\n            paypal: paypalImg,\n            paysafecard: paysafecardImg,\n            Przelewy24: przelewy24Img,\n            przelewy24: przelewy24Img,\n            sofort: sofortImg,\n            voucher: voucherImg,\n            twint: twintImg,\n            blik: blikImg,\n            klarnaOne: klarnaOneImg,\n            trustly: trustlyImg,\n            riverty: rivertyImg\n        }\n        switch (mollieMethodId) {\n            case 'applepay':\n            case 'bancontact':\n            case 'banktransfer':\n            case 'belfius':\n            case 'billie':\n            case 'creditcard':\n            case 'directdebit':\n            case 'eps':\n            case 'giftcard':\n            case 'giropay':\n            case 'ideal':\n            case 'in3':\n            case 'inghomepay':\n            case 'kbc':\n            case 'mybank':\n            case 'paypal':\n            case 'paysafecard':\n            case 'Przelewy24':\n            case 'przelewy24':\n            case 'sofort':\n            case 'twint':\n            case 'blik':\n            case 'voucher':\n            case 'trustly':\n            case 'riverty':\n                return <img className={'inline'} style={style} src={prefix + images[mollieMethodId]} title={mollieMethodId} alt={mollieMethodId} />\n            case 'klarnasliceit':\n            case 'klarnapaylater':\n            case 'klarnapaynow':\n                return <img className={'inline'} style={style} src={prefix + images.klarna} title={mollieMethodId} alt={mollieMethodId} />\n            case 'klarna':\n                return <img className={'inline'} style={style} src={prefix + images.klarnaOne} title={mollieMethodId} alt={mollieMethodId} />\n        }\n    }\n    return <pre style={{display: 'inline'}}>{mollieMethodId}</pre>;\n}\n\nexport function removeItemOnce<T>(arr: T[], value: T) {\n    const index = arr.indexOf(value);\n    if (index > -1) {\n        arr.splice(index, 1);\n    }\n    return arr;\n}\n\nexport type ApiError = {\n    message: string\n}","import React from 'react'\nimport { UseMollieReturn } from '../hooks/useMollie'\n\nconst MollieContext = React.createContext<UseMollieReturn>({} as UseMollieReturn)\nexport default MollieContext\n","import React, { useContext } from 'react'\nimport moment from 'moment'\nimport TextLink from '@webstollen/react-jtl-plugin/lib/components/TextLink'\nimport { formatAmount, Loading } from '@webstollen/react-jtl-plugin/lib'\nimport { molliePaymentStatusLabel } from '../../../helper'\nimport { UseMollieReturn } from '../../../hooks/useMollie'\nimport MollieContext from '../../../context/MollieContext'\n\nconst Details = () => {\n  const mollie = useContext<UseMollieReturn>(MollieContext)\n  return (\n    <Loading loading={mollie.loading}>\n      <table className=\"w-full my-2\">\n        <tbody>\n          <tr>\n            <th>Mollie ID:</th>\n            <td>\n              <TextLink target=\"_blank\" color=\"blue\" href={mollie.data?._links.dashboard?.href}>\n                {mollie.data?.id}\n              </TextLink>\n            </td>\n            <th>Mode:</th>\n            <td>{mollie.data?.mode}</td>\n            <th>Status:</th>\n            <td>{molliePaymentStatusLabel(mollie.data?.status)}</td>\n          </tr>\n          <tr>\n            <th>Betrag:</th>\n            <td>{formatAmount(mollie.data?.amount.value, 2, mollie.data?.amount.currency)}</td>\n            <th>Captured:</th>\n            <td>\n              {mollie.data?.amountCaptured\n                ? formatAmount(mollie.data?.amountCaptured.value, 2, mollie.data?.amountCaptured.currency)\n                : '-'}\n            </td>\n            <th>Refunded:</th>\n            <td>\n              {mollie.data?.amountRefunded\n                ? formatAmount(mollie.data?.amountRefunded.value, 2, mollie.data?.amountRefunded.currency)\n                : '-'}\n            </td>\n          </tr>\n          <tr>\n            <th>Method:</th>\n            <td>{mollie.data?.method}</td>\n            <th>Locale:</th>\n            <td>{mollie.data?.locale}</td>\n            <th>Erstellt:</th>\n            <td>{moment(mollie.data?.createdAt).format('Do MMM YYYY, HH:mm:ss')} Uhr</td>\n          </tr>\n          <tr>\n            {mollie.data?.billingAddress ? (\n              <>\n                <th>Kunde:</th>\n                <td>\n                  {mollie.data?.billingAddress.title} {mollie.data?.billingAddress.givenName}{' '}\n                  {mollie.data?.billingAddress.familyName}\n                </td>\n              </>\n            ) : null}\n            <th>Zahlungslink:</th>\n            <td colSpan={3}>\n              {mollie.data?._links.checkout?.href ? (\n                <TextLink target=\"_blank\" color=\"red\" href={mollie.data?._links.checkout?.href}>\n                  {mollie.data?._links.checkout.href}\n                </TextLink>\n              ) : (\n                '-'\n              )}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </Loading>\n  )\n}\n\nexport default Details\n","import { useCallback, useEffect, useState } from 'react'\nimport useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\n\nexport type UseMollieReturn = {\n  loading: boolean\n  data: null | Record<string, any>\n  error: null | string\n  load: () => void\n  refundAmount: (amount: number) => Promise<void>\n  cancelOrderLine: (orderLineId: string, quantity: number) => Promise<void>\n  refundOrderLine: (orderLineId: string, quantity: number) => Promise<void>\n  cancelOrder: () => Promise<void>\n  refundOrder: () => Promise<void>\n  cancelRefund: (id: string) => Promise<void>\n}\n\nconst PluginAPI = useApi\n\nconst useMollie = (id: string, autoload = false): UseMollieReturn => {\n  const [state, setState] = useState<Record<string, any>>({\n    loading: false,\n    error: null,\n    data: null,\n  })\n\n  const load = useCallback(() => {\n    const api = PluginAPI()\n    setState((p) => ({ ...p, loading: true, error: null }))\n\n    if (id.substring(0, 4) === 'ord_') {\n      api\n        .run('mollie', 'getOrder', {\n          id: id,\n        })\n        .then((res) => setState((p) => ({ ...p, data: res.data.data })))\n        .catch((e) => setState((p) => ({ ...p, error: `${e}` })))\n        .finally(() => setState((p) => ({ ...p, loading: false })))\n    } else if (id.substring(0, 3) === 'tr_') {\n      api\n        .run('mollie', 'getPayment', {\n          id: id,\n        })\n        .then((res) => setState((p) => ({ ...p, data: res.data.data })))\n        .catch((e) => setState((p) => ({ ...p, error: `${e}` })))\n        .finally(() => setState((p) => ({ ...p, loading: false })))\n    }\n  }, [id, setState])\n\n  const refundAmount = useCallback(\n    async (amount: number) => {\n      const api = PluginAPI()\n\n      if (amount <= 0) {\n        throw new Error('Betrag kann nicht kleiner oder gleich Null sein.')\n      }\n      setState((p) => ({ ...p, loading: true }))\n\n      api\n        .run('Mollie', 'refundAmount', {\n          amount: amount,\n          id: id,\n        })\n        .then(async (r) => {\n          await load()\n        })\n        .finally(() => setState((p) => ({ ...p, loading: false })))\n    },\n    [id, load, setState]\n  )\n\n  const cancelOrderLine = useCallback(\n    async (lineId: string, quantity: number) => {\n      const api = PluginAPI()\n      if (quantity <= 0) {\n        throw new Error('Anzahl kann nicht kleiner oder gleich Null sein.')\n      }\n      setState((p) => ({ ...p, loading: true }))\n      api\n        .run('mollie', 'cancelOrderLine', {\n          id: id,\n          lineId: lineId,\n          quantity: quantity,\n        })\n        .then(async (r) => {\n          if (!r.data?.error?.message) {\n            await load()\n          } else {\n            alert(r.data?.error?.message)\n          }\n        })\n        .finally(() => setState((p) => ({ ...p, loading: false })))\n    },\n    [id, load, setState]\n  )\n\n  const cancelOrder = useCallback(async () => {\n    const api = PluginAPI()\n    setState((p) => ({ ...p, loading: true }))\n    api\n      .run('mollie', 'cancelOrder', {\n        id: id,\n      })\n      .then(async (r) => {\n        if (!r.data?.error?.message) {\n          await load()\n        } else {\n          alert(r.data?.error?.message)\n        }\n      })\n      .finally(() => setState((p) => ({ ...p, loading: false })))\n  }, [id, load, setState])\n\n  const refundOrder = useCallback(async () => {\n    const api = PluginAPI()\n    setState((p) => ({ ...p, loading: true }))\n    api\n      .run('mollie', 'refundOrder', {\n        id: id,\n      })\n      .then(async (r) => {\n        if (!r.data?.error?.message) {\n          await load()\n        } else {\n          alert(r.data?.error?.message)\n        }\n      })\n      .finally(() => setState((p) => ({ ...p, loading: false })))\n  }, [id, load, setState])\n\n  const refundOrderLine = useCallback(\n    async (lineId: string, quantity: number) => {\n      const api = PluginAPI()\n      if (quantity <= 0) {\n        throw new Error('Anzahl kann nicht kleiner oder gleich Null sein.')\n      }\n      setState((p) => ({ ...p, loading: true }))\n\n      api\n        .run('mollie', 'refundOrderLine', {\n          id: id,\n          lineId: lineId,\n          quantity: quantity,\n        })\n        .then(async (r) => {\n          await load()\n        })\n        .finally(() => setState((p) => ({ ...p, loading: false })))\n    },\n    [id, load, setState]\n  )\n\n  const cancelRefund = useCallback(\n    async (refundId: string) => {\n      const api = PluginAPI()\n      if (refundId.trim()) {\n        setState((p) => ({ ...p, loading: true }))\n\n        api\n          .run('mollie', 'cancelRefund', {\n            id: id,\n            refundId: refundId,\n          })\n          .then(async (r) => {\n            await load()\n          })\n          .finally(() => setState((p) => ({ ...p, loading: false })))\n      }\n    },\n    [id, load, setState]\n  )\n\n  useEffect(() => {\n    if (autoload) {\n      load()\n    }\n  }, [autoload, load])\n\n  return {\n    loading: state.loading,\n    data: state.data,\n    error: state.error,\n    load: load,\n    refundAmount: refundAmount,\n    cancelOrderLine: cancelOrderLine,\n    refundOrderLine: refundOrderLine,\n    cancelOrder: cancelOrder,\n    refundOrder: refundOrder,\n    cancelRefund: cancelRefund,\n  }\n}\n\nexport default useMollie\n","import { useCallback, useState } from 'react'\nimport useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\n\nexport type UseOrderReturn = {\n  loading: boolean\n  data: null | Record<string, any>\n  error: null | string\n  load: () => void\n}\n\nconst PluginAPI = useApi\n\nconst useOrder = (id: string): UseOrderReturn => {\n  const [state, setState] = useState<Record<string, any>>({\n    loading: false,\n    error: null,\n    data: null,\n  })\n\n  const load = useCallback(() => {\n    const api = PluginAPI()\n    setState((p) => ({ ...p, loading: true, error: null }))\n    api\n      .run('orders', 'get', {\n        id: id,\n      })\n      .then((res) => setState((p) => ({ ...p, data: res.data.data })))\n      .catch((e) => setState((p) => ({ ...p, error: `${e}` })))\n      .finally(() => setState((p) => ({ ...p, loading: false })))\n  }, [id, setState])\n\n  return {\n    loading: state.loading,\n    data: state.data,\n    error: state.error,\n    load: load,\n  }\n}\n\nexport default useOrder\n","import { useSnackbar } from 'react-simple-snackbar'\n\nconst useErrorSnack = () =>\n  useSnackbar({\n    position: 'top-right',\n    style: {\n      backgroundColor: '#FF0000',\n      color: 'white',\n      fontSize: '20px',\n      textAlign: 'center',\n      padding: '10px',\n    },\n  })\n\nexport default useErrorSnack\n","import React, { useContext } from 'react'\nimport { formatAmount, Loading } from '@webstollen/react-jtl-plugin/lib'\nimport { mollieOrderLineTypeLabel, molliePaymentStatusLabel, OrderLineType } from '../../../helper'\nimport Button from '@webstollen/react-jtl-plugin/lib/components/Button'\nimport { UseMollieReturn } from '../../../hooks/useMollie'\nimport useErrorSnack from '../../../hooks/useErrorSnack'\nimport DataTable, { DataTableHeader } from '@webstollen/react-jtl-plugin/lib/components/DataTable/DataTable'\nimport MollieContext from '../../../context/MollieContext'\n\ntype Variation = {\n  name: string\n  value: string\n  kEigenschaft: number\n  kEigenschaftWert: number\n}\n\nconst OrderLines = () => {\n  const mollie = useContext<UseMollieReturn>(MollieContext)\n  const [showError] = useErrorSnack()\n  const handleCancelOrderLine = (lineId: string, max: number) => {\n    const quantity =\n      max > 1\n        ? parseFloat(\n            window.prompt(`Wieviele von max. ${max} möchten Sie abbrechen?`, `${max}`)?.replace(',', '.') ?? '0'\n          )\n        : 1\n    if (quantity <= max) {\n      if (window.confirm(`Möchten Sie wirklich diese Position ${quantity}x unwiderruflich abbrechen?`)) {\n        mollie.cancelOrderLine(lineId, quantity).catch((e) => showError(`${e}`))\n      }\n    } else {\n      alert(`Sie können maximal ${max} abbrechen.`)\n    }\n  }\n\n  const handleCancelOrder = () => {\n    if (window.confirm('Diese Bestellung bei Mollie wirklich abbrechen?')) {\n      mollie.cancelOrder().catch((e) => showError(`${e}`))\n    }\n  }\n\n  const handleRefundOrder = () => {\n    if (window.confirm('Diese Bestellung bei Mollie wirklich zurück erstatten?')) {\n      mollie.refundOrder().catch((e) => showError(`${e}`))\n    }\n  }\n\n  const handleRefundOrderLine = (lineId: string, max: number) => {\n    const quantity =\n      max > 1\n        ? parseFloat(\n            window.prompt(`Wieviele von max. ${max} möchten Sie abbrechen?`, `${max}`)?.replace(',', '.') ?? '0'\n          )\n        : 1\n    if (quantity <= max) {\n      if (window.confirm(`Möchten Sie wirklich diese Position ${quantity}x unwiderruflich abbrechen?`)) {\n        mollie.refundOrderLine(lineId, quantity).catch((e) => showError(`${e}`))\n      }\n    } else {\n      alert(`Sie können maximal ${max} abbrechen.`)\n    }\n  }\n\n  return (\n    <Loading loading={mollie.loading}>\n      <div className=\"mt-4\">\n        <div className=\"flex justify-between mb-2\">\n          <h3 className=\"font-bold text-2xl mb-1\">Positionen</h3>\n          {mollie.data?.isCancelable && (\n            <Button color=\"orange\" onClick={handleCancelOrder}>\n              cancel Order\n            </Button>\n          )}\n          {['paid', 'completed'].includes(mollie.data?.status) && (\n            <Button color=\"red\" onClick={handleRefundOrder}>\n              refund Order\n            </Button>\n          )}\n        </div>\n        <DataTable striped fullWidth header={header}>\n          {mollie.data?.lines.map((row: Record<string, any>) => (\n            <tr key={row.id}>\n              <td>{row.id ?? '-'}</td>\n              <td className=\"text-center\">{row.status ? molliePaymentStatusLabel(row.status) : '-'}</td>\n              <td>\n                {row.sku ?? '-'}\n                <br />\n                {row.type ? mollieOrderLineTypeLabel(row.type as OrderLineType) : '-'}\n              </td>\n              <td>\n                {row.name ?? '-'}\n                {row.metadata?.properties?.length\n                  ? row.metadata?.properties.map((prop: Variation) => (\n                      <>\n                        <br />\n                        <b>{JSON.stringify(prop.name)}</b>: <i>{JSON.stringify(prop.value)}</i>\n                      </>\n                    ))\n                  : null}\n              </td>\n              <td>\n                {row.quantity}\n                {row.quantityCanceled > 0 ? (\n                  <span title=\"Cancelled\" className=\"text-orange-600 font-bold px-2 cursor-help whitespace-no-wrap\">\n                    [ {row.quantityCanceled} ]\n                  </span>\n                ) : null}\n                {row.quantityRefunded > 0 ? (\n                  <span title=\"Refunded\" className=\"text-red-600 font-bold px-2 cursor-help whitespace-no-wrap\">\n                    [ {row.quantityRefunded} ]\n                  </span>\n                ) : null}\n              </td>\n              <td className=\"text-right\">{parseFloat(row.vatRate)}%</td>\n              <td className=\"text-right\">{formatAmount(row.vatAmount.value, 2, row.vatAmount.currency)}</td>\n              <td>\n                <b>{formatAmount(row.totalAmount.value, 2, row.totalAmount.currency)}</b>\n              </td>\n              <td>\n                {row?.cancelableQuantity > 0 && (\n                  <Button color=\"orange\" onClick={() => handleCancelOrderLine(row.id, row.cancelableQuantity ?? 0)}>\n                    cancel\n                  </Button>\n                )}\n                {row?.refundableQuantity > 0 && (\n                  <Button color=\"red\" onClick={() => handleRefundOrderLine(row.id, row.refundableQuantity ?? 0)}>\n                    refund\n                  </Button>\n                )}\n              </td>\n            </tr>\n          ))}\n        </DataTable>\n      </div>\n    </Loading>\n  )\n}\n\nconst header: Array<DataTableHeader> = [\n  {\n    title: 'ID',\n    column: 'id',\n  },\n  {\n    title: 'Status',\n    column: 'status',\n  },\n  {\n    title: 'SKU',\n    column: 'sku',\n  },\n  {\n    title: 'Name',\n    column: 'name',\n  },\n  {\n    title: 'Anzahl',\n    column: 'quantity',\n  },\n  {\n    title: 'MwSt.',\n    column: 'vatRate',\n  },\n  {\n    title: 'Steuer.',\n    column: 'tax',\n  },\n  {\n    title: 'Brutto',\n    column: 'brutto',\n  },\n  {\n    title: '',\n    column: '_actions',\n  },\n]\n\nexport default OrderLines\n","import React, { useContext, useState } from 'react'\nimport TextLink from '@webstollen/react-jtl-plugin/lib/components/TextLink'\nimport { formatAmount } from '@webstollen/react-jtl-plugin/lib'\nimport { molliePaymentStatusLabel, PaymentMethod2img } from '../../../helper'\nimport { faChevronDoubleDown, faChevronDoubleLeft, faEdit } from '@fortawesome/pro-regular-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { UseMollieReturn } from '../../../hooks/useMollie'\nimport DataTable, { DataTableHeader } from '@webstollen/react-jtl-plugin/lib/components/DataTable/DataTable'\nimport MollieContext from '../../../context/MollieContext'\n\nconst Payments = () => {\n  const mollie = useContext<UseMollieReturn>(MollieContext)\n  const [showPayments, setShowPayments] = useState(false)\n  const payments = mollie.data?._embedded?.payments || []\n\n  return payments.length ? (\n    <div className=\"mt-4\">\n      <h3 className=\"font-bold text-2xl mb-1 cursor-pointer\" onClick={() => setShowPayments((prev) => !prev)}>\n        Zahlungen ({payments.length})\n        <FontAwesomeIcon className=\" float-right\" icon={showPayments ? faChevronDoubleDown : faChevronDoubleLeft} />\n      </h3>\n      {showPayments && (\n        <DataTable fullWidth striped header={header}>\n          {payments.map((row: Record<string, any>) => (\n            <tr key={row.id}>\n              <td>{row.id}</td>\n              <td>{molliePaymentStatusLabel(row.status)}</td>\n              <td>\n                <PaymentMethod2img mollieMethodId={row.method} />\n              </td>\n              <td>{formatAmount(row.amount.value, 2, row.amount.currency)}</td>\n              <td>\n                {row.settlementAmount?.value\n                  ? formatAmount(row.settlementAmount.value, 2, row.settlementAmount.currency)\n                  : '-'}\n              </td>\n              <td>\n                {row.amountRefunded?.value\n                  ? formatAmount(row.amountRefunded.value, 2, row.amountRefunded.currency)\n                  : '-'}\n              </td>\n              <td>\n                {row.amountRemaining?.value\n                  ? formatAmount(row.amountRemaining.value, 2, row.amountRemaining.currency)\n                  : '-'}\n              </td>\n              <td>\n                <pre style={{ fontSize: '9px' }}>{JSON.stringify(row.details, null, 2)}</pre>\n              </td>\n              <td className=\"text-right\">\n                {new Date(row.createdAt).toLocaleDateString('de-DE')} {new Date(row.createdAt).toLocaleTimeString('de-DE')}\n              </td>\n              <td>\n                {row._links.changePaymentState && (\n                  <TextLink href={row._links.changePaymentState.href} target=\"_blank\">\n                    <FontAwesomeIcon icon={faEdit} />\n                  </TextLink>\n                )}\n              </td>\n            </tr>\n          ))}\n        </DataTable>\n      )}\n    </div>\n  ) : null\n}\n\nconst header: Array<DataTableHeader> = [\n  {\n    title: 'ID',\n    column: 'id',\n  },\n  {\n    title: 'Status',\n    column: 'status',\n  },\n  {\n    title: 'Methode',\n    column: 'method',\n  },\n  {\n    title: 'Betrag',\n    column: 'amount',\n  },\n  {\n    title: 'Settlement',\n    column: 'settlement',\n  },\n  {\n    title: 'Refunded',\n    column: 'refunded',\n  },\n  {\n    title: 'Remaining',\n    column: 'remaining',\n  },\n  {\n    title: 'Details',\n    column: 'details',\n  },\n  {\n    title: 'Erstellt',\n    column: 'created',\n  },\n  {\n    title: '',\n    column: '_actions',\n  },\n]\n\nexport default Payments\n","import useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\nimport { useCallback, useState } from 'react'\n\nconst PluginAPI = useApi\n\nexport type UseShipmentsReturn = {\n  loading: boolean\n  data: null | Array<Record<string, any>>\n  error: null | string\n  load: () => Promise<void>\n  sync: (mollieId: string, kLieferschein: number) => Promise<Record<string, any>>\n}\n\nconst useShipments = (kBestellung: number): UseShipmentsReturn => {\n  const [state, setState] = useState<Record<string, any>>({\n    loading: false,\n    error: null,\n    data: null,\n  })\n\n  const sync = useCallback(\n    async (mollieId: string, kLieferschein: number) => {\n      const api = PluginAPI()\n      return await api.run('shipments', 'sync', {\n        kLieferschein: kLieferschein,\n        orderId: mollieId,\n        kBestellung: kBestellung,\n      })\n    },\n    [kBestellung]\n  )\n\n  const load = useCallback(async () => {\n    const api = PluginAPI()\n    console.debug('(useShipments->load)')\n    setState((p) => ({ ...p, loading: true, error: null }))\n\n    api\n      .run('orders', 'shipments', {\n        kBestellung: kBestellung,\n      })\n      .then((res) => {\n        setState((p) => ({ ...p, data: res.data.data }))\n      })\n      .catch((e) => setState((p) => ({ ...p, error: `${e}` })))\n      .finally(() => setState((p) => ({ ...p, loading: false })))\n  }, [kBestellung])\n\n  return {\n    loading: state.loading,\n    error: state.error,\n    data: state.data,\n    load: load,\n    sync: sync,\n  }\n}\n\nexport default useShipments\n","import React, { useContext, useEffect, useState } from 'react'\nimport Button from '@webstollen/react-jtl-plugin/lib/components/Button'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDoubleDown, faChevronDoubleLeft, faShippingFast, faSync } from '@fortawesome/pro-regular-svg-icons'\nimport TextLink from '@webstollen/react-jtl-plugin/lib/components/TextLink'\nimport { UseMollieReturn } from '../../../hooks/useMollie'\nimport useShipments from '../../../hooks/useShipments'\nimport useErrorSnack from '../../../hooks/useErrorSnack'\nimport DataTable, { DataTableHeader } from '@webstollen/react-jtl-plugin/lib/components/DataTable/DataTable'\nimport MollieContext from '../../../context/MollieContext'\n\nexport type ShipmentsProps = {\n  kBestellung: number\n}\n\nconst Shipments = ({ kBestellung }: ShipmentsProps) => {\n  const mollie = useContext<UseMollieReturn>(MollieContext)\n  const [showShipments, setShowShipments] = useState(false)\n  const [showError] = useErrorSnack()\n  const { load, data, loading, sync } = useShipments(kBestellung)\n\n  useEffect(() => {\n    load()\n  }, [load])\n\n  const syncShipping = (kLieferschein: number) => {\n    sync(mollie.data?.id, kLieferschein)\n      .then(async (resp) => {\n        if (resp.data.error) {\n          showError(resp.data.error.message)\n        } else {\n          await load()\n        }\n      })\n      .catch(showError)\n  }\n\n  return (\n    <div className=\"mt-4\">\n      <h3 className=\"font-bold text-2xl mb-1 cursor-pointer\" onClick={() => setShowShipments((prev) => !prev)}>\n        Lieferungen ({mollie.data?._embedded?.shipments?.length})\n        <FontAwesomeIcon className=\" float-right\" icon={showShipments ? faChevronDoubleDown : faChevronDoubleLeft} />\n      </h3>\n\n      {showShipments && (\n        <DataTable striped fullWidth header={header} loadin={loading}>\n          {data?.map((row) => (\n            <tr key={row.cLieferscheinNr}>\n              <td>\n                {row.shipment ? (\n                  <TextLink color={'green'} href={mollie.data?._links.dashboard?.href} target=\"_blank\">\n                    {row.cLieferscheinNr}\n                  </TextLink>\n                ) : (\n                  row.cLieferscheinNr\n                )}\n              </td>\n              <td>{row.shipment?.cShipmentId ? row.shipment?.cShipmentId : '-'}</td>\n              <td>{row.shipment?.cCarrier ? row.shipment.cCarrier : 'n/a'}</td>\n              <td>\n                {row.shipment?.cCode ? (\n                  <TextLink color={'blue'} target={'_blank'} href={row.shipment?.cUrl}>\n                    {row.shipment?.cCode}\n                  </TextLink>\n                ) : (\n                  'n/a'\n                )}\n              </td>\n              <td>\n                {mollie.data?.status !== 'completed' && row.shipment === null && (\n                  <Button title=\"synchronize\" onClick={() => syncShipping(row.kLieferschein)}>\n                    <FontAwesomeIcon icon={faSync} />\n                  </Button>\n                )}\n                {row.cUrl && (\n                  <Button>\n                    <FontAwesomeIcon icon={faShippingFast} />\n                  </Button>\n                )}\n              </td>\n            </tr>\n          ))}\n        </DataTable>\n      )}\n    </div>\n  )\n}\n\nconst header: Array<DataTableHeader> = [\n  {\n    title: 'Lieferschein',\n    column: 'cLieferschein',\n  },\n  {\n    title: 'Shipment ID',\n    column: 'id',\n  },\n  {\n    title: 'Carrier',\n    column: 'carrier',\n  },\n  {\n    title: 'Code',\n    column: 'code',\n  },\n  {\n    title: '',\n    column: '_actions',\n  },\n]\n\nexport default Shipments\n","import React, { useCallback, useContext, useState } from 'react'\nimport { formatAmount, Loading } from '@webstollen/react-jtl-plugin/lib'\nimport { molliePaymentStatusLabel } from '../../../helper'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDoubleDown, faChevronDoubleLeft } from '@fortawesome/pro-regular-svg-icons'\nimport Button from '@webstollen/react-jtl-plugin/lib/components/Button'\nimport { UseMollieReturn } from '../../../hooks/useMollie'\nimport useErrorSnack from '../../../hooks/useErrorSnack'\nimport DataTable, { DataTableHeader } from '@webstollen/react-jtl-plugin/lib/components/DataTable/DataTable'\nimport MollieContext from '../../../context/MollieContext'\n\nconst Refunds = () => {\n  const { data, refundOrder, refundAmount, cancelRefund, loading } = useContext<UseMollieReturn>(MollieContext)\n  const [showRefunds, setShowRefunds] = useState(false)\n  const [amountToRefund, setAmountToRefund] = useState(0.0)\n  const [showError] = useErrorSnack()\n\n  const handleRefundAmount = useCallback(\n    (amount: number) => {\n      if (\n        window.confirm(\n          `Möchten Sie wirklich '${amount.toFixed(2)} ${data?.amount.currency}' dieser Zahlung zurück erstatten?`\n        )\n      ) {\n        refundAmount(amount)\n          .then(() => setAmountToRefund(0))\n          .catch(showError)\n      } else {\n        setAmountToRefund(0)\n      }\n    },\n    [setAmountToRefund, showError, data?.amount.currency, refundAmount]\n  )\n\n  const handleCancel = (id: string) => {\n    if (window.confirm('Diese Erstattung wirklich abbrechen?')) {\n      cancelRefund(id).catch(showError)\n    }\n  }\n\n  const handleRefundOrder = () => {\n    if (window.confirm('Diese Bestellung bei Mollie wirklich zurück erstatten?')) {\n      refundOrder().catch(showError)\n    }\n  }\n\n  return (\n    <div className=\"mt-4 relative\">\n      <h3 className=\"font-bold text-2xl mb-1 cursor-pointer\" onClick={() => setShowRefunds((prev) => !prev)}>\n        Refunds ({data?._embedded?.refunds?.length ?? 0})\n        <FontAwesomeIcon className=\" float-right\" icon={showRefunds ? faChevronDoubleDown : faChevronDoubleLeft} />\n      </h3>\n      {showRefunds && (\n        <Loading loading={loading}>\n          <div>\n            {data?.id?.substring(0, 3) === 'tr_' && parseFloat(data?.amountRemaining?.value) > 0 && (\n              <div className=\"flex justify-end items-stretch\">\n                <div className=\"p-2 bg-gray-400 rounded-l leading-9\">Refund Amount:</div>\n                <div className=\"p-2 bg-gray-400 leading-9\">\n                  <input\n                    className=\"mx-1 text-center bg-transparent font-bold w-24\"\n                    step={0.01}\n                    min={0}\n                    value={amountToRefund}\n                    onChange={(e) => setAmountToRefund(parseFloat(e.target.value.replace(',', '.')))}\n                    type=\"number\"\n                  />\n                </div>\n                {parseFloat(data?.amountRemaining.value) > 0 && (\n                  <div className=\"p-2 bg-gray-400 rounded-r\">\n                    <Button\n                      light={!amountToRefund || amountToRefund <= 0}\n                      disabled={!amountToRefund || amountToRefund <= 0}\n                      onClick={() => handleRefundAmount(amountToRefund)}\n                    >\n                      refund\n                    </Button>\n\n                    <Button\n                      light={parseFloat(data?.amountRemaining.value) <= 0}\n                      disabled={parseFloat(data?.amountRemaining.value) <= 0}\n                      onClick={() => handleRefundOrder()}\n                    >\n                      refund all {data?.amountRemaining.value} {data?.amountRemaining.currency}\n                    </Button>\n                  </div>\n                )}\n              </div>\n            )}\n            {data?._embedded?.refunds?.length ? (\n              <DataTable striped fullWidth header={header}>\n                {data?._embedded?.refunds?.length &&\n                  data?._embedded?.refunds.map((row: Record<string, any>) => (\n                    <tr key={row.id}>\n                      <td>\n                        <pre>{row.id}</pre>\n                      </td>\n                      <td className=\"text-center\">{molliePaymentStatusLabel(row.status)}</td>\n                      <td>{row.description}</td>\n                      <td className=\"text-right\">{formatAmount(row.amount.value, 2, row.amount.currency)}</td>\n                      <td className=\"text-right\">\n                        {new Date(row.createdAt).toLocaleDateString('de-DE')} {new Date(row.createdAt).toLocaleTimeString('de-DE')}\n                      </td>\n                      <td className=\"text-right\">\n                        {row.status === 'pending' ? (\n                          <Button color=\"red\" onClick={() => handleCancel(row.id)}>\n                            cancel\n                          </Button>\n                        ) : null}\n                      </td>\n                    </tr>\n                  ))}\n              </DataTable>\n            ) : null}\n          </div>\n        </Loading>\n      )}\n    </div>\n  )\n}\n\nconst header: Array<DataTableHeader> = [\n  {\n    title: 'ID',\n    column: 'id',\n  },\n  {\n    title: 'Status',\n    column: 'status',\n  },\n  {\n    title: 'Beschreibung',\n    column: 'description',\n  },\n  {\n    title: 'Betrag',\n    column: 'amount',\n  },\n  {\n    title: 'Erstellt',\n    column: 'created',\n  },\n  {\n    title: '',\n    column: '_actions',\n  },\n]\n\nexport default Refunds\n","import { useCallback, useState } from 'react'\nimport useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\n\nconst PluginAPI = useApi\n\nexport type UseQueueReturn = {\n  loading: boolean\n  data: null | Array<Record<string, any>>\n  error: null | string\n  load: () => Promise<void>\n}\n\nconst useQueue = (id: string): UseQueueReturn => {\n  const [state, setState] = useState<Record<string, any>>({\n    loading: false,\n    error: null,\n    data: null,\n  })\n\n  const load = useCallback(async () => {\n    const api = PluginAPI()\n    setState((p) => ({ ...p, loading: true, error: null }))\n    api\n      .run('Orders', 'getQueue', {\n        id: id,\n      })\n      .then((res) => {\n        setState((p) => ({ ...p, data: res.data.data }))\n      })\n      .catch((e) => setState((p) => ({ ...p, error: `${e}` })))\n      .finally(() => setState((p) => ({ ...p, loading: false })))\n  }, [id, setState])\n\n  return {\n    loading: state.loading,\n    data: state.data,\n    error: state.error,\n    load: load,\n  }\n}\n\nexport default useQueue\n","import React, { useEffect, useState } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronDoubleDown, faChevronDoubleLeft, faSync } from '@fortawesome/pro-regular-svg-icons'\nimport useQueue from '../../../hooks/useQueue'\nimport DataTable, { DataTableHeader } from '@webstollen/react-jtl-plugin/lib/components/DataTable/DataTable'\nimport { Loading } from '@webstollen/react-jtl-plugin/lib'\nimport Alert from '@webstollen/react-jtl-plugin/lib/components/Alert'\n\ntype QueueProps = {\n  id: string\n}\n\nconst Queue = ({ id }: QueueProps) => {\n  const [showLogs, setShowLogs] = useState(false)\n\n  const { load, loading, data, error } = useQueue(id)\n\n  useEffect(() => {\n    load()\n  }, [load])\n\n  const reload = (e: React.MouseEvent) => {\n    load()\n    e.stopPropagation()\n  }\n\n  return (\n    <div className=\"mt-4 relative\">\n      <h3 className=\"font-bold text-2xl mb-1 cursor-pointer\" onClick={() => setShowLogs((prev) => !prev)}>\n        Queue {data?.length ? <>({data?.length})</> : null}{' '}\n        <FontAwesomeIcon className=\" float-right\" icon={showLogs ? faChevronDoubleDown : faChevronDoubleLeft} />\n        {showLogs && (\n          <FontAwesomeIcon icon={faSync} onClick={reload} className=\"cursor-pointer float-right mx-2\" fixedWidth />\n        )}\n      </h3>\n      {showLogs &&\n        (error ? (\n          <Alert variant=\"error\">{error}</Alert>\n        ) : (\n          <Loading loading={loading}>\n            <DataTable striped fullWidth header={header}>\n              {data?.map((row) => (\n                <tr key={row.kId}>\n                  <td>{row.kId}</td>\n                  <td>{row.cType}</td>\n                  <td>\n                    <pre>{row.cResult ?? 'n/a'}</pre>\n                  </td>\n                  <td>\n                    <pre>{row.cError ?? 'n/a'}</pre>\n                  </td>\n                  <td>{!row.dDone ? 'PENDING' : 'DONE'}</td>\n                  <td>\n                    {new Date(row.dCreated).toLocaleDateString('de-DE')} {new Date(row.dCreated).toLocaleTimeString('de-DE')}\n                  </td>\n                  <td>{/*TODO: REDO*/}</td>\n                </tr>\n              ))}\n            </DataTable>\n          </Loading>\n        ))}\n    </div>\n  )\n}\n\nconst header: Array<DataTableHeader> = [\n  {\n    title: 'ID',\n    column: 'id',\n  },\n  {\n    title: 'Typ',\n    column: 'typ',\n  },\n  {\n    title: 'Result',\n    column: 'result',\n  },\n  {\n    title: 'Fehler?',\n    column: 'error',\n  },\n  {\n    title: 'Status',\n    column: 'status',\n  },\n  {\n    title: 'Erstellt',\n    column: 'created',\n  },\n  {\n    title: '',\n    column: '_actions',\n  },\n]\n\nexport default Queue\n","import { useCallback, useState } from 'react'\nimport useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\n\nconst PluginAPI = useApi\n\nexport type UseQueueReturn = {\n  loading: boolean\n  data: null | Array<Record<string, any>>\n  error: null | string\n  load: () => Promise<void>\n}\n\nconst usePaymentLogs = (kBestellung: number, id: string): UseQueueReturn => {\n  const [state, setState] = useState<Record<string, any>>({\n    loading: false,\n    error: null,\n    data: null,\n  })\n\n  const load = useCallback(async () => {\n    const api = PluginAPI()\n    setState((p) => ({ ...p, loading: true, error: null }))\n    api\n      .run('Orders', 'zalog', {\n        kBestellung: kBestellung,\n        id: id,\n      })\n      .then((res) => {\n        setState((p) => ({ ...p, data: res.data.data }))\n      })\n      .catch((e) => setState((p) => ({ ...p, error: `${e}` })))\n      .finally(() => setState((p) => ({ ...p, loading: false })))\n  }, [id, setState, kBestellung])\n\n  return {\n    loading: state.loading,\n    data: state.data,\n    error: state.error,\n    load: load,\n  }\n}\n\nexport default usePaymentLogs\n","import React, { useEffect, useState } from 'react'\nimport { Label, Loading } from '@webstollen/react-jtl-plugin/lib'\nimport { faChevronDoubleDown, faChevronDoubleLeft, faSync } from '@fortawesome/pro-regular-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport usePaymentLogs from '../../../hooks/usePaymentLogs'\nimport DataTable, { DataTableHeader } from '@webstollen/react-jtl-plugin/lib/components/DataTable/DataTable'\nimport { parseInt } from 'lodash'\nimport Alert from '@webstollen/react-jtl-plugin/lib/components/Alert'\n\nexport type LogsProps = {\n  mollieId: string\n  kBestellung: number\n}\n\nconst Logs = ({ kBestellung, mollieId }: LogsProps) => {\n  const [showLogs, setShowLogs] = useState(false)\n  const { load, loading, data, error } = usePaymentLogs(kBestellung, mollieId)\n\n  useEffect(() => {\n    load()\n  }, [load])\n\n  const reload = (e: React.MouseEvent) => {\n    load()\n    e.stopPropagation()\n  }\n\n  return (\n    <div className=\"mt-4 relative\">\n      <h3 className=\"font-bold text-2xl mb-1 cursor-pointer\" onClick={() => setShowLogs((prev) => !prev)}>\n        Logs {data ? <>({data?.length ?? 0})</> : null}\n        <FontAwesomeIcon className=\"float-right\" icon={showLogs ? faChevronDoubleDown : faChevronDoubleLeft} />\n        {showLogs && (\n          <FontAwesomeIcon icon={faSync} onClick={reload} className=\"cursor-pointer float-right mx-2\" fixedWidth />\n        )}\n      </h3>\n      {showLogs &&\n        (error ? (\n          <Alert variant=\"error\">{error}</Alert>\n        ) : (\n          <Loading loading={loading}>\n            <DataTable striped fullWidth header={header} loading={loading}>\n              {data?.map((row) => (\n                <tr key={row.kZahlunglog}>\n                  <td className=\"text-center\">\n                    {parseInt(row.nLevel) === 1 ? (\n                      <Label color=\"red\">ERROR</Label>\n                    ) : parseInt(row.nLevel) === 2 ? (\n                      <Label color=\"blue\">NOTICE</Label>\n                    ) : parseInt(row.nLevel) === 3 ? (\n                      <Label color=\"gray\">DEBUG</Label>\n                    ) : (\n                      row.nLevel\n                    )}\n                  </td>\n                  <td>{row.cLog}</td>\n                  <td className=\"text-left\">\n                    {new Date(row.dDatum).toLocaleDateString('de-DE')} {new Date(row.dDatum).toLocaleTimeString('de-DE')}\n                  </td>\n                </tr>\n              ))}\n            </DataTable>\n          </Loading>\n        ))}\n    </div>\n  )\n}\n\nconst header: Array<DataTableHeader> = [\n  {\n    title: 'Level',\n    column: 'level',\n  },\n  {\n    title: 'Log',\n    column: 'log',\n  },\n  {\n    title: 'Erstellt',\n    column: 'created',\n  },\n]\n\nexport default Logs\n","import React, { useEffect } from 'react'\nimport Alert from '@webstollen/react-jtl-plugin/lib/components/Alert'\nimport { faExclamation } from '@fortawesome/pro-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Loading } from '@webstollen/react-jtl-plugin/lib'\nimport Details from './Details'\nimport useMollie from '../../../hooks/useMollie'\nimport { faSync, faTimes } from '@fortawesome/pro-regular-svg-icons'\nimport useOrder from '../../../hooks/useOrder'\nimport OrderLines from './OrderLines'\nimport Payments from './Payments'\nimport Shipments from './Shipments'\nimport Refunds from './Refunds'\nimport Queue from './Queue'\nimport Logs from './Logs'\nimport MollieContext from '../../../context/MollieContext'\n\nexport type OrderDetailsProps = {\n  id: string\n  onClose?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\n}\nconst OrderDetails = (props: OrderDetailsProps) => {\n  const mollie = useMollie(props.id, true)\n  const { loading: orderLoading, load: orderLoad, error: orderError, data: orderData } = useOrder(props.id)\n\n  const reload = () => {\n    orderLoad()\n    mollie.load()\n  }\n\n  useEffect(() => {\n    orderLoad()\n  }, [orderLoad])\n\n  if (mollie.error !== null || orderError !== null) {\n    return (\n      <div className=\"relative flex-col mb-3 rounded-md w-full\">\n        <div className=\"flex flex-row bg-black p-3 rounded-md text-white font-bold text-2xl\">\n          <div className=\"flex-grow\">\n            Bestellung: {orderData?.cBestellNr} (<pre className=\"inline text-ws_gray-light\">{props.id}</pre>)\n          </div>\n          <div onClick={reload} className=\"cursor-pointer mr-2\">\n            <FontAwesomeIcon icon={faSync} spin={orderLoading} size={'sm'} />\n          </div>\n          <div onClick={props.onClose} className=\"cursor-pointer\">\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </div>\n        {orderError != null && (\n          <Alert variant={'error'} icon={{ icon: faExclamation }}>\n            Fehler beim laden der Bestellung \"{props.id}\": {orderError}\n          </Alert>\n        )}\n        {mollie.error != null && (\n          <Alert variant={'error'} icon={{ icon: faExclamation }}>\n            Fehler beim Laden von Mollie \"{props.id}\": {mollie.error}\n          </Alert>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"relative mb-3 w-full relative\">\n      <Loading loading={orderLoading}>\n        <div className=\"flex flex-row bg-black p-3 rounded-md text-white font-bold text-2xl\">\n          <div className=\"flex-grow\">\n            Bestellung: <span title={orderData?.kBestellung}>{orderData?.cBestellNr}</span> (\n            <pre className=\"inline text-ws_gray-light\">{props.id}</pre>)\n          </div>\n          <div onClick={reload} className=\"cursor-pointer mr-2\">\n            <FontAwesomeIcon icon={faSync} spin={orderLoading} size={'sm'} />\n          </div>\n          <div onClick={props.onClose} className=\"cursor-pointer\">\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </div>\n        <div className=\" rounded-md relative\">\n          <Loading loading={mollie.loading}>\n            <MollieContext.Provider value={mollie}>\n              <Details />\n              {mollie && mollie?.data?.resource === 'payment' ? (\n                <></>\n              ) : (\n                <>\n                  <OrderLines />\n                  <Payments />\n                  {orderData && <Shipments kBestellung={orderData?.kBestellung} />}\n                </>\n              )}\n              <Refunds />\n              {mollie?.data && orderData?.kBestellung && (\n                <Logs kBestellung={orderData.kBestellung} mollieId={mollie.data.id} />\n              )}\n              <Queue id={props.id} />\n            </MollieContext.Provider>\n          </Loading>\n        </div>\n      </Loading>\n    </div>\n  )\n}\n\nexport default OrderDetails\n","import useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\nimport { useCallback, useState } from 'react'\n\nconst PluginAPI = useApi\n\nexport type UseOrdersReturn = {\n  loading: boolean\n  data: null | {\n    maxItems: number\n    items: Array<Record<string, any>>\n  }\n  error: null | string\n  load: (perPage: number, page: number, query?: string) => Promise<void>\n}\n\nconst useOrders = (): UseOrdersReturn => {\n  const [state, setState] = useState<Record<string, any>>({\n    loading: false,\n    error: null,\n    data: null,\n  })\n\n  const load = useCallback(async (page: number, perPage: number, query?: string) => {\n    const api = PluginAPI()\n    setState((p) => ({ ...p, loading: true, error: null }))\n\n    const offset = perPage * page\n    let params: Record<string, any> = { ':limit': perPage, ':offset': offset }\n    let sqlQuery =\n      'SELECT o.*, b.cStatus as cJTLStatus, b.cAbgeholt, b.cVersandartName, b.cZahlungsartName, b.fGuthaben, b.fGesamtsumme ' +\n      'FROM xplugin_ws5_mollie_orders o ' +\n      'JOIN tbestellung b ON b.kbestellung = o.kBestellung ' +\n      'ORDER BY b.dErstellt DESC;'\n\n    if (query && query.trim() !== '') {\n      sqlQuery =\n        'SELECT o.*, b.cStatus as cJTLStatus, b.cAbgeholt, b.cVersandartName, b.cZahlungsartName, b.fGuthaben, b.fGesamtsumme ' +\n        'FROM xplugin_ws5_mollie_orders o ' +\n        'JOIN tbestellung b ON b.kbestellung = o.kBestellung ' +\n        'WHERE b.cBestellNr LIKE :query1 ' +\n        'OR o.cOrderId LIKE :query2 ' +\n        'OR o.cStatus LIKE :query3 ' +\n        'OR o.cMethod LIKE :query4 ' +\n        'OR o.cTransactionId LIKE :query5 ' +\n        'ORDER BY b.dErstellt DESC;'\n      params[':query1'] = params[':query2'] = params[':query3'] = params[':query4'] = params[':query5'] = `%${query}%`\n    }\n\n    api\n      .run('orders', 'all', {\n        query: sqlQuery,\n        params: params,\n      })\n      .then((res) => {\n        setState((p) => ({ ...p, data: res.data.data }))\n      })\n      .catch((e) => setState((p) => ({ ...p, error: `${e}` })))\n      .finally(() => setState((p) => ({ ...p, loading: false })))\n  }, [])\n\n  return {\n    loading: state.loading,\n    error: state.error,\n    data: state.data,\n    load: load,\n  }\n}\n\nexport default useOrders\n","import { useSnackbar } from 'react-simple-snackbar'\n\nconst useSuccessSnack = () =>\n  useSnackbar({\n    position: 'top-right',\n    style: {\n      backgroundColor: 'green',\n      color: 'white',\n      fontSize: '20px',\n      textAlign: 'center',\n      padding: '10px',\n    },\n  })\n\nexport default useSuccessSnack\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { formatAmount, Label, usePluginInfo } from '@webstollen/react-jtl-plugin/lib'\nimport useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\nimport OrderDetails from './OrderDetails'\nimport useErrorSnack from '../../hooks/useErrorSnack'\nimport DataTable, { DataTableHeader } from '@webstollen/react-jtl-plugin/lib/components/DataTable/DataTable'\nimport useOrders from '../../hooks/useOrders'\nimport TextLink from '@webstollen/react-jtl-plugin/lib/components/TextLink'\nimport { jtlStatus2label, molliePaymentStatusLabel, PaymentMethod2img } from '../../helper'\nimport Button from '@webstollen/react-jtl-plugin/lib/components/Button'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBolt, faEnvelopeOpenDollar, faSync, faUnlock } from '@fortawesome/pro-regular-svg-icons'\nimport useSuccessSnack from '../../hooks/useSuccessSnack'\nimport Alert from '@webstollen/react-jtl-plugin/lib/components/Alert'\nimport Modal from \"@webstollen/react-jtl-plugin/lib/components/Modal\";\n\n\nconst Orders = () => {\n  const [showSuccess] = useSuccessSnack()\n  const [loading, setLoading] = useState(false)\n  const api = useApi()\n  const pluginInfo = usePluginInfo()\n  const [showError] = useErrorSnack()\n  \n  const [openOrderId, setOpenOrderId] = useState<string | null>(null)\n  const modalProps = Modal.useModal()\n\n  const { loading: ordersLoading, load: loadOrders, error: ordersError, data: ordersData } = useOrders()\n  const [ordersState, setOrderState] = useState({\n    page: 0,\n    perPage: 10,\n    query: '',\n  })\n\n  useEffect(() => {\n    loadOrders(ordersState.page, ordersState.perPage, ordersState.query)\n  }, [loadOrders, ordersState.perPage, ordersState.page, ordersState.query])\n\n  const reWebhook = (id: string) => {\n    setLoading(true)\n    fetch(pluginInfo.shopURL + `?mollie=1&id=${id}&admin=1`, {\n      mode: 'no-cors',\n      method: 'GET',\n    })\n      .then(() => fetch(pluginInfo.shopURL, { mode: 'no-cors' }).then(reload))\n      .catch((e) => showError(`${e}`))\n      .finally(() => setLoading(false))\n  }\n\n  const sendReminder = (id: number) => {\n    setLoading(true)\n    api\n      .run('orders', 'reminder', { id: id })\n      .then(async () => {\n        showSuccess('E-Mail versendet.')\n        await reload()\n      })\n      .catch(showError)\n      .finally(() => setLoading(false))\n  }\n\n  const makeFetchable = (id: string) => {\n    setLoading(true)\n    api\n      .run('orders', 'fetchable', {\n        id: id,\n      })\n      .then(reload)\n      .catch((e) => showError(`${e}`))\n      .finally(() => setLoading(false))\n  }\n\n  const reload = useCallback(\n    async () => await loadOrders(ordersState.page, ordersState.perPage, ordersState.query),\n    [ordersState.page, ordersState.perPage, loadOrders, ordersState.query]\n  )\n  const handleTableChange = async (page: number, perPage: number) => {\n    if (page === ordersState.page && perPage === ordersState.perPage) {\n      await reload()\n    } else {\n      setOrderState((p) => ({ ...p, page: page, perPage: perPage }))\n    }\n  }\n\n  const handleSearch = useCallback(\n    (query: string) => {\n      if (query !== ordersState.query) {\n        setOrderState((p) => ({ ...p, query: query, page: 0 }))\n      }\n    },\n    [setOrderState, ordersState.query]\n  )\n\n  const OrderTable = ordersError ? (\n    <Alert variant=\"error\">\n      {ordersError}{' '}\n      <TextLink color=\"red\" onClick={() => loadOrders(ordersState.page, ordersState.perPage, ordersState.query)}>\n        Erneut versuchen!\n      </TextLink>\n    </Alert>\n  ) : (\n    <DataTable\n      fullWidth\n      onSearch={handleSearch}\n      header={header}\n      loading={ordersLoading || loading}\n      striped\n      pagination={{\n        page: ordersState.page,\n        total: ordersData?.maxItems ?? 0,\n        perPage: ordersState.perPage,\n        onChange: handleTableChange,\n      }}\n    >\n      {ordersData?.items && ordersData?.items.length > 0\n        ? ordersData?.items.map((row: Record<string, any>) => (\n            <tr key={row.cOrderId}>\n              <td>\n                <TextLink\n                  color={'blue'}\n                  onClick={() => {\n                    setOpenOrderId(row.cOrderId)\n                    modalProps.setIsOpen(true)\n                  }}\n                >\n                  {row.cBestellNr}\n                </TextLink>\n                {!parseInt(row.bSynced) ? (\n                  <abbr className=\"cursor-help\" title=\"Nicht abholbar.\">\n                    *\n                  </abbr>\n                ) : null}\n              </td>\n              <td>\n                {parseInt(row.bTest) ? (\n                  <Label className={'inline mr-1'} color={'red'}>\n                    TEST\n                  </Label>\n                ) : null}\n                <pre className={'inline'}>{row.cOrderId}</pre>\n              </td>\n              <td className=\"text-center\">\n                {molliePaymentStatusLabel(row.fAmountRefunded === row.fAmount ? 'refunded' : row.cStatus)}\n              </td>\n              <td className=\"text-center\">{jtlStatus2label(row.cJTLStatus)}</td>\n              <td className=\"text-center\">\n                <PaymentMethod2img mollieMethodId={row.cMethod} style={{width: 32}}/>\n              </td>\n              <td className=\"text-right\">{formatAmount(row.fAmount)}</td>\n              <td className=\"text-center\">{row.cCurrency}</td>\n              <td>\n                {new Date(row.dCreated).toLocaleDateString('de-DE')} {new Date(row.dCreated).toLocaleTimeString('de-DE')}\n              </td>\n              <td className=\"text-right\">\n                {!parseInt(row.bSynced) && (\n                  <Button onClick={() => makeFetchable(row.cOrderId)} title=\"Abholbar machen\" className={'mr-1'}>\n                    <FontAwesomeIcon icon={faUnlock} />\n                  </Button>\n                )}\n\n                {!['paid', 'authorized', 'completed', 'pending'].includes(row.cStatus) &&\n                parseInt(row.cJTLStatus) > 0 ? (\n                  <Button\n                    onClick={() => sendReminder(row.kId)}\n                    title={'Zahlungserinnerung ' + (row.dReminder !== null ? 'erneut ' : '') + 'verschicken'}\n                    className={'mr-1'}\n                  >\n                    {row.dReminder !== null ? (\n                      <span className=\"fa-layers fa-fw\">\n                        <FontAwesomeIcon icon={faEnvelopeOpenDollar} inverse transform=\"shrink-7\" />\n                        <FontAwesomeIcon icon={faSync} inverse transform=\"grow-7\" />\n                      </span>\n                    ) : (\n                      <FontAwesomeIcon icon={faEnvelopeOpenDollar} />\n                    )}\n                  </Button>\n                ) : null}\n\n                <Button onClick={() => reWebhook(row.cOrderId)} title=\"Simulate Webhook\">\n                  <FontAwesomeIcon icon={faBolt} />\n                </Button>\n              </td>\n            </tr>\n          ))\n        : null}\n    </DataTable>\n  )\n\n  return (\n      <div className=\"relative container mx-auto\">\n        <Modal {...modalProps} showCloseButton={false}>\n          {openOrderId && <OrderDetails id={openOrderId} onClose={modalProps.requestClose}/>}\n        </Modal>\n        <div className=\"bg-white rounded-md p-1\">{OrderTable}</div>\n      </div>\n  )\n}\n\nexport default Orders\n\nconst header: Array<DataTableHeader> = [\n  {\n    title: 'BestellNr',\n    column: 'cBestellNr',\n  },\n  {\n    title: 'Mollie ID',\n    column: 'cOrderId',\n  },\n  {\n    title: 'Mollie Status',\n    column: 'cStatus',\n  },\n  {\n    title: 'JTL Status',\n    column: 'cJTLStatus',\n  },\n  {\n    title: 'Methode',\n    column: 'cMethod',\n  },\n  {\n    title: 'Betrag',\n    column: 'fAmount',\n  },\n  {\n    title: 'Währung',\n    column: 'cCurrency',\n  },\n  {\n    title: 'Erstellt',\n    column: 'dCreated',\n  },\n  {\n    title: '',\n    column: '_actions',\n  },\n]\n","import { useCallback, useState } from 'react'\nimport useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\n\nexport type UseQueuesReturn = {\n  loading: boolean\n  data: null | {\n    maxItems: number\n    items: Array<Record<string, any>>\n  }\n  error: null | string\n  load: (page: number, itemsPerPage: number, query?: string) => Promise<void>\n}\n\nconst PluginAPI = useApi\n\nconst useQueues = (): UseQueuesReturn => {\n  const [state, setState] = useState<Record<string, any>>({\n    loading: false,\n    error: null,\n    data: null,\n  })\n\n  const load = useCallback(\n    async (page: number, perPage: number, query?: string) => {\n      const api = PluginAPI()\n      setState((p) => ({ ...p, loading: true, error: null }))\n\n      const offset = perPage * page\n      let params: Record<string, any> = { ':limit': perPage, ':offset': offset }\n      let sqlQuery = 'SELECT * FROM xplugin_ws5_mollie_queue ORDER BY dCreated DESC'\n\n      if (query && query.trim() !== '') {\n        sqlQuery =\n          'SELECT * FROM xplugin_ws5_mollie_queue ' +\n          'WHERE cType LIKE :query1 ' +\n          'OR cResult LIKE :query2 ' +\n          'OR cError LIKE :query3 ' +\n          'ORDER BY dCreated DESC'\n        params[':query1'] = params[':query2'] = params[':query3'] = `%${query}%`\n      }\n\n      api\n        .run('queue', 'all', {\n          query: sqlQuery,\n          params: params,\n        })\n        .then((res) => {\n          setState((p) => ({ ...p, data: res.data.data }))\n        })\n        .catch((e) => setState((p) => ({ ...p, error: `${e}` })))\n        .finally(() => setState((p) => ({ ...p, loading: false })))\n    },\n    [setState]\n  )\n\n  return {\n    loading: state.loading,\n    data: state.data,\n    error: state.error,\n    load: load,\n  }\n}\n\nexport default useQueues\n","import React, { useCallback, useEffect, useState } from 'react'\nimport useApi from '@webstollen/react-jtl-plugin/lib/hooks/useAPI'\nimport useQueues from '../../hooks/useQueues'\nimport useErrorSnack from '../../hooks/useErrorSnack'\nimport DataTable, { DataTableHeader } from '@webstollen/react-jtl-plugin/lib/components/DataTable/DataTable'\nimport Button from '@webstollen/react-jtl-plugin/lib/components/Button'\nimport { faBolt, faLock, faTrash } from '@fortawesome/pro-regular-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport Alert from '@webstollen/react-jtl-plugin/lib/components/Alert'\nimport TextLink from '@webstollen/react-jtl-plugin/lib/components/TextLink'\n\nconst Queue = () => {\n  const [loading, setLoading] = useState(false)\n  const api = useApi()\n  const [showError] = useErrorSnack()\n  const { data, load, error, loading: queueLoading } = useQueues()\n  const [queuesState, setQueuesState] = useState({\n    page: 0,\n    perPage: 10,\n    query: '',\n  })\n\n  const reload = useCallback(\n    async () => await load(queuesState.page, queuesState.perPage, queuesState.query),\n    [load, queuesState.page, queuesState.perPage, queuesState.query]\n  )\n\n  useEffect(() => {\n    load(queuesState.page, queuesState.perPage, queuesState.query)\n  }, [load, queuesState.page, queuesState.perPage, queuesState.query])\n\n  const deleteQueue = (id: number) => {\n    setLoading(true)\n    api\n      .run('queue', 'delete', { id: id })\n      .then(reload)\n      .catch(showError)\n      .finally(() => setLoading(false))\n  }\n\n  const unlockQueue = (id: number) => {\n    setLoading(true)\n    api\n      .run('queue', 'unlock', { id: id })\n      .then(reload)\n      .catch(showError)\n      .finally(() => setLoading(false))\n  }\n\n  const runQueue = (id: number) => {\n    setLoading(true)\n    api\n      .run('queue', 'run', { id: id })\n      .then(reload)\n      .catch(showError)\n      .finally(() => setLoading(false))\n  }\n\n  const header: Array<DataTableHeader> = [\n    {\n      title: 'ID',\n      column: 'kID',\n    },\n    {\n      title: 'Type',\n      column: 'cType',\n    },\n    {\n      title: 'Result?',\n      column: 'cResult',\n    },\n    {\n      title: 'Error?',\n      column: 'cError',\n    },\n    {\n      title: 'Erledigt',\n      column: 'dDone',\n    },\n    {\n      title: 'Erstellt',\n      column: 'dCreated',\n    },\n    {\n      title: '',\n      column: '_actions',\n    },\n  ]\n\n  const handleTableChange = async (page: number, perPage: number) => {\n    if (page === queuesState.page && perPage === queuesState.perPage) {\n      await load(queuesState.page, queuesState.perPage)\n    } else {\n      setQueuesState((p) => ({ ...p, page: page, perPage: perPage }))\n    }\n  }\n\n  const handleSearch = useCallback(\n    (query: string) => {\n      if (query !== queuesState.query) {\n        setQueuesState((p) => ({ ...p, query: query, page: 0 }))\n      }\n    },\n    [setQueuesState, queuesState.query]\n  )\n\n  const table = error ? (\n    <Alert variant=\"error\">\n      {error}{' '}\n      <TextLink color=\"red\" onClick={reload}>\n        Erneut versuchen!\n      </TextLink>\n    </Alert>\n  ) : (\n    <DataTable\n      loading={loading || queueLoading}\n      header={header}\n      onSearch={handleSearch}\n      fullWidth\n      striped\n      pagination={{\n        page: queuesState.page,\n        total: data?.maxItems ?? 0,\n        perPage: queuesState.perPage,\n        onChange: handleTableChange,\n      }}\n    >\n      {data?.items?.map((row) => (\n        <tr key={row.kId}>\n          <td>{row.kId}</td>\n          <td>\n            <code>{row.cType}</code>\n          </td>\n          <td>\n            <div className=\"truncate max-w-xs hover:overflow-clip hover:whitespace-pre-line\">{row.cResult}</div>\n          </td>\n          <td>\n            <div className=\"truncate max-w-xs hover:overflow-clip hover:whitespace-pre-line\">{row.cError}</div>\n          </td>\n          <td>{row.dDone ? <>{new Date(row.dDone).toLocaleDateString('de-DE')} {new Date(row.dDone).toLocaleTimeString('de-DE')}</> : '-'}</td>\n          <td>{row.dCreated ? <>{new Date(row.dCreated).toLocaleDateString('de-DE')} {new Date(row.dCreated).toLocaleTimeString('de-DE')}</> : '-'}</td>\n          <td>\n            <div className=\"flex text-center justify-center items-center\">\n              {row.bLock ? (\n                <div className=\"flex flex-col text-center  items-center \">\n                  <Button\n                    onClick={() => (window.confirm('Wirklich entsperren?') ? unlockQueue(row.kId) : null)}\n                    color=\"orange\"\n                    title=\"Unlock!\"\n                    className=\"cursor-pointer p-1 ml-1\"\n                  >\n                    <FontAwesomeIcon fixedWidth icon={faLock} />\n                  </Button>\n                  {new Date(row.bLock).toLocaleDateString('de-DE')} {new Date(row.bLock).toLocaleTimeString('de-DE')}\n                </div>\n              ) : (\n                <Button\n                  onClick={() => (window.confirm('Wirklich erneut ausführen?') ? runQueue(row.kId) : null)}\n                  className=\"ml-1\"\n                  color=\"blue\"\n                  title=\"Run again!\"\n                >\n                  <FontAwesomeIcon fixedWidth icon={faBolt} />\n                </Button>\n              )}\n              <Button\n                onClick={() => (window.confirm('Wirklich löschen?') ? deleteQueue(row.kId) : null)}\n                title=\"Delete\"\n                className=\"ml-1\"\n                color=\"red\"\n              >\n                <FontAwesomeIcon fixedWidth icon={faTrash} />\n              </Button>\n            </div>\n          </td>\n        </tr>\n      ))}\n    </DataTable>\n  )\n\n  return (\n    <div className=\"relative container mx-auto\">\n      <div className=\"bg-white rounded-md p-1\">{table}</div>\n    </div>\n  )\n}\n\nexport default Queue\n","import React, {useCallback, useEffect, useState} from \"react\";\nimport DashboardGridCard from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/DashboardGridCard\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSync} from \"@fortawesome/pro-regular-svg-icons\";\nimport {formatAmount, Loading} from \"@webstollen/react-jtl-plugin/lib\";\nimport useApi from \"@webstollen/react-jtl-plugin/lib/hooks/useAPI\";\n\nconst QuickStats = () => {\n    const api = useApi()\n\n    const [isLoading, setIsLoading] = useState<boolean>(false)\n    const [statistics, setStatistics] = useState<Record<string, Record<string, any>>>({})\n\n    const loadStatistics = useCallback(() => {\n        setIsLoading(true)\n        api\n            .run('mollie', 'statistics')\n            .then((res) => setStatistics(res.data.data))\n            .catch(console.error)\n            .finally(() => setIsLoading(false))\n    }, [api])\n\n    useEffect(() => {\n        loadStatistics()\n    }, [loadStatistics])\n\n    return (\n        <DashboardGridCard>\n            <div className=\"w-full h-full relative\">{/* This div only exists to prevent shadow from affecting other DashboardGridCards due to position:relative */}\n                <Loading loading={isLoading} className={\"h-full\"}>\n                    <div className=\"absolute\" style={{right: 15, top: 15, zIndex: 2}}>\n                        <FontAwesomeIcon\n                            onClick={loadStatistics}\n                            spin={isLoading}\n                            icon={faSync}\n                            size={'lg'}\n                            className=\"float-right cursor-pointer\"\n                            title=\"aktualisieren\"\n                        />\n                    </div>\n                    <div style={{flexDirection: \"column\", justifyContent: \"space-between\", gap: 20, height: \"100%\"}} className=\"flex gap-1\">\n                        <div style={{backgroundColor: \"#f5f5f5\"}} className=\"rounded-md p-2 flex-1 relative\">\n                            <b>Mollie Umsätze:</b>\n                            <div className=\"flex flex-row justify-around items-baseline place-items-center my-3\">\n                                {statistics.day && (\n                                    <div className=\"flex flex-col\">\n                                        <div\n                                            className=\"font-semibold\">{formatAmount(statistics.day.amount, 2, '€')}</div>\n                                        <div className=\"text-ws_gray-normal text-sm\">last 24h</div>\n                                    </div>\n                                )}\n                                {statistics.week && (\n                                    <div className=\"flex flex-col\">\n                                        <div\n                                            className=\"font-semibold\">{formatAmount(statistics.week.amount, 2, '€')}</div>\n                                        <div className=\"text-ws_gray-normal text-sm\">last week</div>\n                                    </div>\n                                )}\n                                {statistics.month && (\n                                    <div className=\"flex flex-col\">\n                                        <div\n                                            className=\"font-semibold\">{formatAmount(statistics.month.amount, 2, '€')}</div>\n                                        <div className=\"text-ws_gray-normal text-sm\">last month</div>\n                                    </div>\n                                )}\n                                {statistics.year && (\n                                    <div className=\"flex flex-col\">\n                                        <div\n                                            className=\"font-semibold\">{formatAmount(statistics.year.amount, 2, '€')}</div>\n                                        <div className=\"text-ws_gray-normal text-sm\">last year</div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                        <div style={{backgroundColor: \"#f5f5f5\"}} className=\"rounded-md p-2 flex-1 relative\">\n                            <b>Mollie Transaktionen:</b>\n                            <div className=\"flex flex-row justify-around items-baseline place-items-center my-3\">\n                                {statistics.day && (\n                                    <div className=\"flex flex-col\">\n                                        <div className=\"font-semibold\">{statistics.day.transactions}</div>\n                                        <div className=\"text-ws_gray-normal text-sm\">last 24h</div>\n                                    </div>\n                                )}\n                                {statistics.week && (\n                                    <div className=\"flex flex-col\">\n                                        <div className=\"font-semibold\">{statistics.week.transactions}</div>\n                                        <div className=\"text-ws_gray-normal text-sm\">last week</div>\n                                    </div>\n                                )}\n                                {statistics.month && (\n                                    <div className=\"flex flex-col\">\n                                        <div className=\"font-semibold\">{statistics.month.transactions}</div>\n                                        <div className=\"text-ws_gray-normal text-sm\">last month</div>\n                                    </div>\n                                )}\n                                {statistics.year && (\n                                    <div className=\"flex flex-col\">\n                                        <div className=\"font-semibold\">{statistics.year.transactions}</div>\n                                        <div className=\"text-ws_gray-normal text-sm\">last year</div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </Loading>\n            </div>\n        </DashboardGridCard>\n    )\n}\n\nexport default QuickStats;\n\n\n","import React, {createContext, useCallback, useContext, useEffect, useState, ReactNode} from 'react'\nimport {MergedPaymentMethodsMappedByMollieId} from \"../types/PaymentMethod\";\nimport useApi from \"@webstollen/react-jtl-plugin/lib/hooks/useAPI\";\n\ntype PaymentMethodContextType = { paymentMethods?: MergedPaymentMethodsMappedByMollieId, reFetchPaymentMethods: () => void }\n\nconst PaymentMethodContext = createContext<PaymentMethodContextType>({\n    paymentMethods: undefined,\n    reFetchPaymentMethods: () => {\n        throw new Error('paymentMethods not yet loaded')\n    }\n})\n\nfunction PaymentMethodProvider({children}: {children: ReactNode}) {\n    const api = useApi()\n    const [paymentMethods, setPaymentMethods] = useState<MergedPaymentMethodsMappedByMollieId | undefined>()\n\n    const fetchPaymentMethods = useCallback(() => {\n        api\n            .run('mollie', 'methods')\n            .then((res) => {\n                setPaymentMethods(res.data.data)\n            })\n            .catch(console.error)\n    }, [api])\n\n    useEffect(() => {\n        fetchPaymentMethods();\n    }, [fetchPaymentMethods]);\n\n    return <PaymentMethodContext.Provider value={{paymentMethods: paymentMethods, reFetchPaymentMethods: fetchPaymentMethods}}>{children}</PaymentMethodContext.Provider>\n}\n\nfunction usePaymentMethods() {\n    const context = useContext(PaymentMethodContext)\n    if (context === undefined) {\n        throw new Error('usePaymentMethods must be used within the correct context provider')\n    }\n    return context\n}\n\nexport {PaymentMethodProvider, usePaymentMethods}","import React from \"react\";\nimport DashboardGridCard from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/DashboardGridCard\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSync} from \"@fortawesome/pro-regular-svg-icons\";\nimport {Loading} from \"@webstollen/react-jtl-plugin/lib\";\nimport {faCheckCircle, faCircleInfo, faXmarkCircle} from \"@fortawesome/pro-solid-svg-icons\";\nimport {MergedPaymentMethodObject} from \"../../../../types/PaymentMethod\";\nimport {PaymentMethod2img} from \"../../../../helper\";\nimport {usePaymentMethods} from \"../../../../context/PaymentMethodContext\";\n\nconst ActivePaymentMethods = () => {\n    const {paymentMethods, reFetchPaymentMethods} = usePaymentMethods()\n\n    // Split into active and inactive payment methods\n    let activeMethods: Array<MergedPaymentMethodObject> = []\n    let inactiveAndInvalidMethods: Array<MergedPaymentMethodObject> = []\n\n    paymentMethods &&\n    Object.values(paymentMethods).forEach((paymentMethod) => {\n        if (\n            paymentMethod.mollie.status === 'activated' &&\n            paymentMethod.linkedShippingMethods.length &&\n            paymentMethod.paymentMethod?.nActive === \"1\" &&\n            (!paymentMethod.duringCheckout || paymentMethod.allowDuringCheckout)\n        ) {\n            activeMethods.push(paymentMethod)\n        } else {\n            inactiveAndInvalidMethods.push(paymentMethod)\n        }\n    })\n\n    return (\n        <DashboardGridCard>\n            <div className=\"w-full h-full relative\">{/* This div only exists to prevent shadow from affecting other DashboardGridCards due to position:relative */}\n                <Loading loading={!paymentMethods} className={\"h-full\"}>\n                    <div className=\"absolute\" style={{right: 5, top: 5, zIndex: 2}}>\n                        <FontAwesomeIcon\n                            onClick={reFetchPaymentMethods}\n                            spin={!paymentMethods}\n                            icon={faSync}\n                            size={'lg'}\n                            className=\"float-right cursor-pointer\"\n                            title=\"aktualisieren\"\n                        />\n                    </div>\n                    <div style={{flexDirection: \"column\", justifyContent: \"space-between\", gap: 20, height: \"100%\"}} className=\"flex gap-1\">\n                        {!!paymentMethods &&\n                            <>\n                                <div style={{marginBottom: 10}}>\n                                    <p style={{marginBottom: \"1rem\"}}><FontAwesomeIcon icon={faCheckCircle} className=\"font-lg mr-1\" color=\"green\"/><b>Aktive Zahlungsarten:</b></p>\n                                    {activeMethods\n                                        ? <div\n                                            className=\"flex gap-1 flex-wrap\">{activeMethods?.map((mergedPaymentMethodObject) =>\n                                            <span key={mergedPaymentMethodObject?.paymentMethod?.cName ?? \"\"} className=\"my-auto\">\n                                                <PaymentMethod2img\n                                                    mollieMethodId={(mergedPaymentMethodObject.mollie.id ?? \"\") as string}\n                                                    style={{height: 37}}\n                                                />\n                                            </span>)}\n                                        </div>\n                                        : <div className=\"rounded-md p-3 w-full flex items-center\" style={{ height: 60, background: \"white\", boxShadow: \"rgba(17, 12, 46, 0.15) 0px 48px 100px 0px\" }}>\n                                            <FontAwesomeIcon icon={faCircleInfo} className=\"font-lg mr-3\" color=\"gold\" style={{fontSize: 25}}/>\n                                            <p>Momentan ist noch kein Mollie Zahlungsart aktiv.  Erfülle bei den gewünschten Zahlungsarten unten die roten markierten Bedingungen um die Zahlungsart zu aktivieren.</p>\n                                        </div>\n                                    }\n                                </div>\n                                <div>\n                                    <p style={{marginBottom: \"1rem\"}}><FontAwesomeIcon icon={faXmarkCircle} className=\"font-lg mr-1\" color=\"red\"/><b>Inaktive Zahlungsarten:</b></p>\n                                    <div className=\"flex gap-1 flex-wrap\">\n                                        {inactiveAndInvalidMethods?.map(\n                                            (mergedPaymentMethodObject) => <span key={mergedPaymentMethodObject?.paymentMethod?.cName ?? \"\"} className=\"my-auto\">\n                                                <PaymentMethod2img\n                                                    mollieMethodId={(mergedPaymentMethodObject.mollie.id ?? \"\") as string}\n                                                    style={{height: 37}}\n                                                />\n                                            </span>)}\n                                    </div>\n                                </div>\n                            </>\n                        }\n                    </div>\n                </Loading>\n            </div>\n        </DashboardGridCard>\n    )\n}\n\nexport default ActivePaymentMethods;\n\n\n","export default __webpack_public_path__ + \"static/media/abocloud.8c354095.png\";","import React from \"react\";\nimport DashboardGridCard from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/DashboardGridCard\";\nimport {usePluginInfo} from \"@webstollen/react-jtl-plugin/lib\";\nimport abocloudImg from '../../../../assets/img/abocloud.png';\n\nconst MollieDashboardLink = () => {\n    const pluginInfo = usePluginInfo();\n    const prefix = pluginInfo.endpoint.substring(0, pluginInfo.endpoint.lastIndexOf('/')) + '/app/build';\n\n    return (\n        <DashboardGridCard style={{padding: \"0px\"}}>\n            <div className=\"w-full h-full relative\">{/* This div only exists to prevent shadow from affecting other DashboardGridCards due to position:relative */}\n                <a href={'https://ws-url.de/abocloud-mollie'} target={\"_blank\"} rel={\"noreferrer\"}>\n                    <img style={{borderRadius: \"15px\", maxHeight: \"100%\", minWidth: \"100%\"}} src={prefix + abocloudImg} title={'abocloud'} alt={'abocloud'}/>\n                </a>\n            </div>\n        </DashboardGridCard>\n    )\n}\n\nexport default MollieDashboardLink;\n\n\n","import React from \"react\";\nimport QuickStats from \"./QuickStats\";\nimport ActivePaymentMethods from \"./ActivePaymentMethods\";\nimport AboCloudWidget from \"./AboCloudWidget\";\n\nconst CustomDashboardGridCards = () => {\n    return (\n        <>\n            <AboCloudWidget />\n            <QuickStats />\n            <ActivePaymentMethods />\n        </>\n    )\n}\n\n\nexport default CustomDashboardGridCards;\n\n\n","import {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCheckCircle, faGear, faLink, faXmarkCircle} from \"@fortawesome/pro-solid-svg-icons\";\nimport React from \"react\";\nimport PluginInfo from \"@webstollen/react-jtl-plugin/lib/types/PluginInfo\";\nimport {MergedPaymentMethodObject} from \"../../../../types/PaymentMethod\";\n\nconst ConfigurationItems = ({mergedPaymentMethodObject, pluginInfo}: {mergedPaymentMethodObject: MergedPaymentMethodObject, pluginInfo: PluginInfo}) => {\n\n    const mollieProfileSettingsPageUrl = \"https://my.mollie.com/dashboard/settings/profiles/\"\n\n    const shippingPageUrl =\n        pluginInfo.shopVersionEqualOrGreaterThan520\n            ? pluginInfo.adminURL + \"/shippingmethods\"\n            : pluginInfo.adminURL + \"/versandarten.php\"\n\n\n    const paymentSettingsPageUrl = pluginInfo.shopVersionEqualOrGreaterThan520\n        ? pluginInfo.adminURL + \"/paymentmethods?kZahlungsart=\" + mergedPaymentMethodObject.paymentMethod.kZahlungsart + \"&token=\" + pluginInfo.token\n        : pluginInfo.adminURL + \"/zahlungsarten.php?kZahlungsart=\" + mergedPaymentMethodObject.paymentMethod.kZahlungsart + \"&token=\" + pluginInfo.token\n\n    return (\n        <>\n            <p className=\"flex items-center gap-2\"><b>Konfiguration</b><a href={paymentSettingsPageUrl} target=\"_blank\" rel=\"noreferrer\"><FontAwesomeIcon icon={faGear} className=\"cursor-pointer font-lg float-right mr-2\" color={\"black\"} /></a></p>\n            <p>Bei Mollie aktiv <a href={mollieProfileSettingsPageUrl}><span className=\"cursor-pointer\">\n                {mergedPaymentMethodObject.mollie.status === \"activated\"\n                    ? <FontAwesomeIcon icon={faCheckCircle} className=\"font-lg float-right mr-2\" color=\"green\"/>\n                    : <span className=\"cursor-pointer\">\n                            <FontAwesomeIcon icon={faXmarkCircle} className=\"font-lg float-right mr-2\" color=\"red\" />\n                            <FontAwesomeIcon icon={faLink} className=\"font-lg float-right mr-2\" color=\"black\"/>\n                        </span>\n                }</span></a>\n            </p>\n            <p>Im Shop aktiv <a href={paymentSettingsPageUrl} target=\"_blank\" className=\"cursor-pointer\" rel=\"noreferrer\">{mergedPaymentMethodObject.paymentMethod.nActive === \"1\" ?\n                <FontAwesomeIcon icon={faCheckCircle} className=\"font-lg float-right mr-2\" color=\"green\"/> :\n                <FontAwesomeIcon icon={faXmarkCircle} className=\"font-lg float-right mr-2\" color=\"red\"/>}\n                </a>\n            </p>\n            <p>Versandart verknüpft <a href={shippingPageUrl} target=\"_blank\" className=\"cursor-pointer\" rel=\"noreferrer\">{mergedPaymentMethodObject.linkedShippingMethods.length > 0\n                ? <FontAwesomeIcon icon={faCheckCircle} className=\"font-lg float-right mr-2\" color=\"green\"/>\n                : <span>\n                        <FontAwesomeIcon icon={faXmarkCircle} className=\"font-lg float-right mr-2\" color=\"red\"/>\n                        <FontAwesomeIcon icon={faLink} className=\"font-lg float-right mr-2\" color=\"black\"/>\n                    </span>}\n                </a>\n            </p>\n            {mergedPaymentMethodObject?.allowDuringCheckout\n                ? <p>Zahlung <u>vor</u> Bestellabschluss <a href={paymentSettingsPageUrl} target=\"_blank\" className=\"cursor-pointer\" rel=\"noreferrer\">{mergedPaymentMethodObject.paymentMethod.nWaehrendBestellung === \"1\"\n                        ? <FontAwesomeIcon icon={faCheckCircle} className=\"font-lg float-right mr-2\" color=\"green\" />\n                        : <>\n                            <FontAwesomeIcon icon={faXmarkCircle} className=\"font-lg float-right mr-2\" color=\"gold\" title={'Es wird empfohlen auf \"Bestellung vor Bestellabschluss\" umzustellen!'}/>\n                            <FontAwesomeIcon icon={faLink} className=\"font-lg float-right mr-2\" color=\"black\"/>\n                        </>\n                    }\n                    </a>\n                </p>\n                : <p>Zahlung <u>nach</u> Bestellabschluss <a href={paymentSettingsPageUrl} target=\"_blank\" className=\"cursor-pointer\" rel=\"noreferrer\">{mergedPaymentMethodObject.paymentMethod.nWaehrendBestellung  === \"0\"\n                        ? <FontAwesomeIcon icon={faCheckCircle} className=\"font-lg float-right mr-2\" color=\"green\" />\n                        : <>\n                            <FontAwesomeIcon icon={faXmarkCircle} className=\"font-lg float-right mr-2\" color=\"red\" title={'Diese Zahlungsart funktioniert nur mit \"Zahlung nach Bestellabschluss\"!'}/>\n                            <FontAwesomeIcon icon={faLink} className=\"font-lg float-right mr-2\" color=\"black\"/>\n                            </>\n                        }\n                    </a>\n                </p>\n            }\n        </>\n    )\n}\n\nexport default ConfigurationItems","import React from \"react\";\nimport {MergedPaymentMethodObject} from \"../../../../types/PaymentMethod\";\n\nconst AdditionalInformation = ({mergedPaymentMethodObject}: {mergedPaymentMethodObject: MergedPaymentMethodObject}) => {\n\n    return (\n        <>\n            <p><b>Informationen</b></p>\n            <p className=\"flex justify-between mr-2\"><span>Mollie-API</span><span>{mergedPaymentMethodObject?.api ? (mergedPaymentMethodObject.api === \"payment\" ? \"Payment-API\" : \"Order-API\") : \"Keine\"}</span></p>\n            <p className=\"flex justify-between mr-2\"><span>Fälligkeit in Tagen</span><span>{mergedPaymentMethodObject.dueDays} Tagen</span></p>\n            <p className=\"flex justify-between mr-2\"><span>Minimum</span><span>{mergedPaymentMethodObject?.mollie?.minimumAmount ? (mergedPaymentMethodObject?.mollie?.minimumAmount?.value + \" \" + mergedPaymentMethodObject?.mollie?.minimumAmount?.currency): \"Unbekannt\"}</span></p>\n            <p className=\"flex justify-between mr-2\"><span>Maximum</span><span>{mergedPaymentMethodObject?.mollie?.maximumAmount ? (mergedPaymentMethodObject?.mollie?.maximumAmount?.value + \" \" + mergedPaymentMethodObject?.mollie?.maximumAmount?.currency): \"Unbekannt\"}</span></p>\n        </>\n    )\n}\n\nexport default AdditionalInformation","import {MergedPaymentMethodObject} from \"../../../../types/PaymentMethod\";\nimport {PaymentMethod2img} from \"../../../../helper\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCheckCircle, faChevronDown, faChevronUp, faXmarkCircle, faCircleInfo} from \"@fortawesome/pro-solid-svg-icons\";\nimport React, {useState} from \"react\";\nimport PluginInfo from \"@webstollen/react-jtl-plugin/lib/types/PluginInfo\";\nimport ConfigurationItems from \"./ConfigurationItems\";\nimport AdditionalInformation from \"./AdditionalInformation\";\nimport Alert from \"@webstollen/react-jtl-plugin/lib/components/Alert\";\n\nconst PaymentMethodGridItem = ({mergedPaymentMethodObject, pluginInfo}: {mergedPaymentMethodObject: MergedPaymentMethodObject, pluginInfo: PluginInfo}) => {\n    const [isOpen, setIsOpen] = useState(false)\n\n    return (\n        <div className=\"rounded-md p-3\" style={{ background: \"white\", height: \"fit-content\", boxShadow: \"rgba(17, 12, 46, 0.15) 0px 48px 100px 0px\"}}>\n            <div onClick={() => setIsOpen(prevState => !prevState)} className=\"flex items-center cursor-pointer\">\n                <span className=\"my-auto\"><PaymentMethod2img mollieMethodId={(mergedPaymentMethodObject.mollie.id ?? \"\") as string} style={{height: 37}} /></span>\n                <span className=\"ml-3\">{mergedPaymentMethodObject.paymentMethod.cName === 'Klarna' ? 'One Klarna' : mergedPaymentMethodObject.paymentMethod.cName}</span>\n                <span className=\"ml-2\"><FontAwesomeIcon icon={isOpen ? faChevronUp: faChevronDown} className=\"cursor-pointer font-lg\" color=\"black\" /></span>\n                <StatusIcon mergedPaymentMethodObject={mergedPaymentMethodObject}/>\n            </div>\n            <div className=\"leading-7\" style={{ background: \"transparent\", overflow: \"hidden\", transition: \"all 300ms ease 0s\", ...(isOpen ? { maxHeight: 1000, marginTop: \"0.75rem\", marginBottom: \"0.75rem\" } : {maxHeight: 0, margin: 0})}}>\n                { mergedPaymentMethodObject?.paymentMethod?.cName === 'Giropay' ?\n                    // TODO remove with Giropay within the next Update\n                    <>\n                        <Alert variant={\"error\"}>Diese Zahlungsart ist bei Mollie nicht länger verfügbar. Sie wird im Checkout nicht weiter angezeigt und mit dem nächsten Update gelöscht.</Alert>\n                        <br />\n                    </>\n                    :\n                    <>\n                        <ConfigurationItems mergedPaymentMethodObject={mergedPaymentMethodObject} pluginInfo={pluginInfo} />\n                        <br />\n                        <AdditionalInformation mergedPaymentMethodObject={mergedPaymentMethodObject} />\n                    </>\n                }\n            </div>\n        </div>\n    )\n}\n\n\nconst StatusIcon = ({mergedPaymentMethodObject}: {mergedPaymentMethodObject: MergedPaymentMethodObject}) => {\n\n    const paymentDuringCheckoutAllowed = [\"Creditcard\", \"Banktransfer\"]\n\n    let icon;\n    if (mergedPaymentMethodObject.paymentMethod.nActive !== \"1\" || mergedPaymentMethodObject.mollie?.status !== \"activated\" || (mergedPaymentMethodObject?.linkedShippingMethods?.length ?? 0) === 0) {\n        icon = <FontAwesomeIcon icon={faXmarkCircle} className=\"font-lg\" color=\"red\"/>\n    } else if (mergedPaymentMethodObject.paymentMethod.nWaehrendBestellung !== \"1\" && !paymentDuringCheckoutAllowed.includes(mergedPaymentMethodObject?.paymentMethod?.cName ?? \"\")) {\n        icon = <FontAwesomeIcon icon={faCircleInfo} className=\"font-lg\" color=\"gold\" title={'Es wird empfohlen auf \"Bestellung vor Bestellabschluss\" umzustellen!'}/>\n    } else {\n        icon = <FontAwesomeIcon icon={faCheckCircle} className=\"font-lg\" color=\"green\"/>\n        if (mergedPaymentMethodObject.paymentMethod.cName === \"Giropay\") {\n            icon = <FontAwesomeIcon icon={faXmarkCircle} className=\"font-lg\" color=\"red\"/>\n        }\n    }\n\n    return (\n        <span className=\"ml-auto mr-1\" style={{fontSize: '25px'}}>{icon}</span>\n    )\n}\n\nexport default PaymentMethodGridItem","import {MergedPaymentMethodObject} from \"../../../types/PaymentMethod\";\nimport React from \"react\";\nimport {usePluginInfo} from \"@webstollen/react-jtl-plugin/lib\";\nimport PaymentMethodGridItem from \"./PaymentMethodGridItem\";\n\nconst PaymentMethodGrid = ({paymentMethods}: {paymentMethods: Array<MergedPaymentMethodObject>}) => {\n    const pluginInfo = usePluginInfo();\n\n    return (\n        <div className=\"grid gap-5 grid-cols-3\">\n            {paymentMethods?.map((mergedPaymentMethodObject: MergedPaymentMethodObject) => {\n                return (\n                    <PaymentMethodGridItem key={mergedPaymentMethodObject?.paymentMethod?.cName ?? \"\"} mergedPaymentMethodObject={mergedPaymentMethodObject} pluginInfo={pluginInfo}/>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default PaymentMethodGrid","import React from \"react\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCircleInfo} from \"@fortawesome/pro-solid-svg-icons\";\nimport {Loading} from \"@webstollen/react-jtl-plugin/lib\";\nimport {MergedPaymentMethodObject} from \"../../types/PaymentMethod\";\nimport PaymentMethodGrid from \"./components/PaymentMethodGrid\";\nimport {usePaymentMethods} from \"../../context/PaymentMethodContext\";\n\n\nconst PaymentMethods = () => {\n    const {paymentMethods} = usePaymentMethods()\n\n    // Split into active and inactive payment methods\n    let activeMethods: Array<MergedPaymentMethodObject> = []\n    let inactiveAndInvalidMethods: Array<MergedPaymentMethodObject> = []\n\n    paymentMethods &&\n    Object.values(paymentMethods).forEach((paymentMethod) => {\n        if (\n            paymentMethod.mollie.status === 'activated' &&\n            paymentMethod.linkedShippingMethods.length &&\n            paymentMethod.paymentMethod?.nActive === \"1\" &&\n            (!paymentMethod.duringCheckout || paymentMethod.allowDuringCheckout)\n        ) {\n            activeMethods.push(paymentMethod)\n        } else {\n            inactiveAndInvalidMethods.push(paymentMethod)\n        }\n    })\n\n    return (\n        <div className=\"mx-1 py-5 rounded-md\">\n            <Loading className=\"w-full h-full relative\" loading={!paymentMethods}>\n                {!paymentMethods\n                    ? <div style={{height: \"9rem\", width: \"100%\"}}/>\n                    : <>\n                        <div style={{marginBottom: 30}}>\n                            <p style={{marginBottom: \"1rem\"}}><b>Aktive Zahlungsarten:</b></p>\n                            { activeMethods && activeMethods.length > 0\n                                ? <PaymentMethodGrid paymentMethods={activeMethods}/>\n                                : <div className=\"rounded-md p-3 w-full flex items-center\" style={{ height: 60, background: \"white\", boxShadow: \"rgba(17, 12, 46, 0.15) 0px 48px 100px 0px\" }}>\n                                    <FontAwesomeIcon icon={faCircleInfo} className=\"font-lg mr-3\" color=\"gold\" style={{fontSize: 25}}/>\n                                    <p>Momentan ist noch kein Mollie Zahlungsart aktiv.  Erfülle bei den gewünschten Zahlungsarten unten die roten markierten Bedingungen um die Zahlungsart zu aktivieren.</p>\n                                </div>\n                            }\n                        </div>\n                        <div>\n                            <p style={{marginBottom: \"1rem\"}}><b>Inaktive Zahlungsarten:</b></p>\n                            <PaymentMethodGrid paymentMethods={inactiveAndInvalidMethods}/>\n                        </div>\n                    </>\n                }\n            </Loading>\n        </div>\n    );\n}\n\nexport default PaymentMethods;\n\n\n","import React from 'react';\nimport {CreateTabs, hasUrlParameter} from '@webstollen/react-jtl-plugin/lib'\nimport DashboardPage from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage\";\nimport AdLink from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/AdLink\";\nimport SetupAssistent from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/SetupAssistent\";\nimport Support from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/Support\";\nimport ShopInfo from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/ShopInfo\";\nimport DashbarStatus from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/DashbarStatus\";\nimport AdImage from \"@webstollen/react-jtl-plugin/lib/components/DashboardPage/AdImage\";\nimport PageWrapper from \"@webstollen/react-jtl-plugin/lib/components/PageWrapper\";\nimport Card from \"@webstollen/react-jtl-plugin/lib/components/Card\";\nimport Orders from \"./tabs/Orders\";\nimport Queue from \"./tabs/Queue\";\nimport {DEBUG_URL_PARAM} from \"@webstollen/react-jtl-plugin/lib/constants\";\nimport TextInput from \"@webstollen/react-jtl-plugin/lib/components/Settings/TextInput\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCheckCircle} from \"@fortawesome/pro-regular-svg-icons\";\nimport Button from \"@webstollen/react-jtl-plugin/lib/components/Button\";\nimport CustomDashboardGridCards from \"./tabs/Dashboard/CustomDashboardGridCards\";\nimport PaymentMethods from './tabs/PaymentMethods';\n\n\n/**\n * 'Dashboard' and 'Einstellungen' Tab will be added automatically if not specified here. If you want to customize the 'Dashboard' or 'Einstellungen' Tab,\n * just add them to the return array below as show with the 'Dashboard' tab.\n * The prop \"settingsMap\" and \"pluginInfo\" can be used to conditionally render tabs.\n */\nconst createTabs: CreateTabs = (settingsMap, pluginInfo) => {\n\n    const setupAssistentSlides = [\n        {\n            id: 0, content:\n                <div style={{padding: \"1em\"}}>\n                    <h3 className={\"mb-3 text-2xl font-family:comfortaa text-center\"}>Einrichtungsassistent</h3>\n                    <p>\n                        Richte Mollie und das Shop Plugin in wenigen Schritten ein.\n                    </p>\n                </div>\n        },\n        {\n            id: 1, content:\n                <div style={{padding: \"1em\"}}>\n                    <p>Hast Du noch keinen Account bei Mollie?</p>\n                    <Button\n                        onClick={() => (window.location.href = 'https://ws-url.de/mollie-pay')}\n                        color=\"green\"\n                        className=\"mx-auto block my-6\"\n                    >\n                        Jetzt kostenlos Mollie Account anlegen!\n                    </Button>\n                </div>\n        },\n        {\n            id: 2, content:\n                <div style={{padding: \"1em\"}}>\n                    <h3 className={\"mb-3 text-xl font-family:comfortaa text-center\"}\n                        style={{width: \"100%\"}}>API-Keys</h3>\n                    <p>Die Keys findest du in <a href=\"https://ws-url.de/mollie-api-key-page\" target={'_blank'}\n                                                 rel=\"noreferrer\" style={{textDecoration: \"underline\"}}>deinem Mollie\n                        Konto.</a></p>\n                    <div style={{display: \"flex\", alignItems: \"center\", width: 470}}><span\n                        style={{flex: 2}}>Live Key:</span>\n                        <div style={{flex: 7}}><TextInput settingId={'apiKey'}/></div>\n                    </div>\n                    <div style={{display: \"flex\", alignItems: \"center\", width: 470}}><span\n                        style={{flex: 2}}>Test Key:</span>\n                        <div style={{flex: 7}}><TextInput settingId={'test_apiKey'}/></div>\n                    </div>\n                    <div style={{display: \"flex\", alignItems: \"center\", width: 470}}><span\n                        style={{flex: 2}}>Profil ID:</span>\n                        <div style={{flex: 7}}><TextInput settingId={'profileId'}/></div>\n                    </div>\n                </div>\n        },\n        {\n            id: 3, content:\n                <div style={{padding: \"1em\"}}>\n                    <p>Als nächsten Schritt müssen noch die</p>\n                    <a href={pluginInfo.adminURL + '/' + (pluginInfo.shopVersionEqualOrGreaterThan520 ? 'shippingmethods' : 'versandarten.php')} target={'_blank'}\n                       rel=\"noreferrer\" style={{textDecoration: \"underline\"}}>Versandarten mit Zahlungsarten verknüpft werden.</a>\n                </div>\n        },\n        {\n            id: 4, content:\n                <div style={{padding: \"1em\"}}>\n                    <h3 className={\"mb-3 text-xl font-family:comfortaa text-center\"}>Fertig!</h3>\n                    <FontAwesomeIcon color='green' icon={faCheckCircle} size='2x'/>\n                    <p>Die grundlegende Einrichtung von Mollie Plugin ist fertig.</p>\n                    <p>Bitte prüfe noch im Tab \"Zahlungsarten\", ob du noch etwas an bestimmten Zahlungsarten anpassen willst.</p>\n                </div>\n        }\n    ]\n\n    return [\n        {\n            title: 'Dashboard',\n            isDashboard: true,\n            component:\n                <DashboardPage>\n                    <AdLink/>\n                    <SetupAssistent slides={setupAssistentSlides}/>\n                    <Support/>\n                    <CustomDashboardGridCards/>\n                    <ShopInfo/>\n                    <AdImage/>\n                    <DashbarStatus/>\n                </DashboardPage>\n        },\n        {\n            title: 'Zahlungsarten',\n            isDashboard: false,\n            component:\n                <PageWrapper>\n                    <PaymentMethods/>\n                </PageWrapper>\n        },\n        {\n            title: 'Bestellungen',\n            isDashboard: false,\n            component:\n                <PageWrapper thin>\n                    <Card>\n                        <Orders/>\n                    </Card>\n                </PageWrapper>\n        },\n        ...(hasUrlParameter(DEBUG_URL_PARAM)\n            ? [\n                {\n                    title: 'Warteschlange',\n                    isDashboard: false,\n                    component:\n                        <PageWrapper thin>\n                            <Card>\n                                <Queue/>\n                            </Card>\n                        </PageWrapper>\n                },\n            ]\n            : []),\n    ]\n}\n\nexport default createTabs\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './assets/main.css'\nimport { App } from '@webstollen/react-jtl-plugin/lib'\nimport reportWebVitals from './reportWebVitals'\nimport SnackbarProvider from 'react-simple-snackbar'\nimport createTabs from \"./tabs\";\nimport {PaymentMethodProvider} from \"./context/PaymentMethodContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <SnackbarProvider>\n      <PaymentMethodProvider>\n        <App createTabs={createTabs}/>\n      </PaymentMethodProvider>\n    </SnackbarProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}